(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2640],{64033:function(e,t,r){Promise.resolve().then(r.bind(r,50423)),Promise.resolve().then(r.bind(r,4591))},4591:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Checkout}});var a=r(57437),n=r(3857),i=r(76500),s=r(39227),d=r(63955),l=r(29872),o=r(326),c=r(17668),h=r(95631),m=r(49050),x=r(43226),u=r(2265),p=r(28874),j=r(55594),g=r(40182),Z=r(27760),Card_AddressForm=e=>{let{onSubmit:t}=e;return(0,a.jsxs)(u.Fragment,{children:[(0,a.jsx)(x.Z,{variant:"h6",gutterBottom:!0,children:"Shipping address"}),(0,a.jsxs)(p.ZP,{container:!0,spacing:3,children:[(0,a.jsx)(p.ZP,{item:!0,xs:12,sm:6,children:(0,a.jsx)(j.Z,{required:!0,id:"firstName",name:"firstName",label:"First name",fullWidth:!0,autoComplete:"given-name",variant:"standard"})}),(0,a.jsx)(p.ZP,{item:!0,xs:12,sm:6,children:(0,a.jsx)(j.Z,{required:!0,id:"lastName",name:"lastName",label:"Last name",fullWidth:!0,autoComplete:"family-name",variant:"standard"})}),(0,a.jsx)(p.ZP,{item:!0,xs:12,children:(0,a.jsx)(j.Z,{required:!0,id:"address1",name:"address1",label:"Address line 1",fullWidth:!0,autoComplete:"shipping address-line1",variant:"standard"})}),(0,a.jsx)(p.ZP,{item:!0,xs:12,children:(0,a.jsx)(j.Z,{id:"address2",name:"address2",label:"Address line 2",fullWidth:!0,autoComplete:"shipping address-line2",variant:"standard"})}),(0,a.jsx)(p.ZP,{item:!0,xs:12,sm:6,children:(0,a.jsx)(j.Z,{required:!0,id:"city",name:"city",label:"City",fullWidth:!0,autoComplete:"shipping address-level2",variant:"standard"})}),(0,a.jsx)(p.ZP,{item:!0,xs:12,sm:6,children:(0,a.jsx)(j.Z,{id:"state",name:"state",label:"State/Province/Region",fullWidth:!0,variant:"standard"})}),(0,a.jsx)(p.ZP,{item:!0,xs:12,sm:6,children:(0,a.jsx)(j.Z,{required:!0,id:"zip",name:"zip",label:"Zip / Postal code",fullWidth:!0,autoComplete:"shipping postal-code",variant:"standard"})}),(0,a.jsx)(p.ZP,{item:!0,xs:12,sm:6,children:(0,a.jsx)(j.Z,{required:!0,id:"country",name:"country",label:"Country",fullWidth:!0,autoComplete:"shipping country",variant:"standard"})}),(0,a.jsx)(p.ZP,{item:!0,xs:12,children:(0,a.jsx)(g.Z,{control:(0,a.jsx)(Z.Z,{color:"secondary",name:"saveAddress",value:"yes"}),label:"Use this address for payment details"})})]})]})},v=r(81679),f=r(2778),Card_PaymentForm=e=>{let{onSubmit:t}=e,[r,n]=(0,u.useState)(""),detectCardType=e=>{let t=e.replace(/\D/g,""),r=t[0],a=t.slice(0,2);return"4"===r?"Visa":a>="51"&&a<="55"?"MasterCard":"Unknown"},[i,s]=(0,u.useState)({cardNumber:"",cvv:"",expirationDate:"",cardholderName:""}),formatExpirationDate=e=>4!==e.length||e.includes("/")?e:e.substring(0,2)+"/"+e.substring(2,4),formatCardNumber=e=>{let t=e.replace(/\D/g,"");t=t.substring(0,16);let r=detectCardType(t);return n(r),t.replace(/(.{4})/g,"$1 ").trim()},handleChange=e=>{console.log("here");let{name:t,value:r}=e.target;if("cvv"===t&&r.length>3)return;let a=r;if("cardNumber"===t)a=formatCardNumber(r);else if("expirationDate"===t){if(!/^([0-9]{0,2})\/?([0-9]{0,2})$/.test(r))return;a=formatExpirationDate(r)}s({...i,[t]:a})};return(0,a.jsxs)(u.Fragment,{children:[(0,a.jsx)(x.Z,{variant:"h6",gutterBottom:!0,children:"Payment method"}),(0,a.jsxs)(p.ZP,{container:!0,spacing:3,children:[(0,a.jsx)(p.ZP,{item:!0,xs:12,md:6,children:(0,a.jsx)(j.Z,{required:!0,id:"cardName",label:"Name on card",fullWidth:!0,autoComplete:"cc-name",variant:"standard",name:"cardholderName",onChange:handleChange,value:i.cardholderName})}),(0,a.jsx)(p.ZP,{item:!0,xs:12,md:6,children:(0,a.jsx)(j.Z,{required:!0,id:"cardNumber",label:"Card number",fullWidth:!0,autoComplete:"cc-number",variant:"standard",name:"cardNumber",onChange:handleChange,value:i.cardNumber,InputProps:{startAdornment:(0,a.jsxs)(v.Z,{position:"start",children:["Visa"===r&&(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"25",height:"25",viewBox:"0 0 48 48",children:[(0,a.jsx)("path",{fill:"#1565C0",d:"M45,35c0,2.209-1.791,4-4,4H7c-2.209,0-4-1.791-4-4V13c0-2.209,1.791-4,4-4h34c2.209,0,4,1.791,4,4V35z"}),(0,a.jsx)("path",{fill:"#FFF",d:"M15.186 19l-2.626 7.832c0 0-.667-3.313-.733-3.729-1.495-3.411-3.701-3.221-3.701-3.221L10.726 30v-.002h3.161L18.258 19H15.186zM17.689 30L20.56 30 22.296 19 19.389 19zM38.008 19h-3.021l-4.71 11h2.852l.588-1.571h3.596L37.619 30h2.613L38.008 19zM34.513 26.328l1.563-4.157.818 4.157H34.513zM26.369 22.206c0-.606.498-1.057 1.926-1.057.928 0 1.991.674 1.991.674l.466-2.309c0 0-1.358-.515-2.691-.515-3.019 0-4.576 1.444-4.576 3.272 0 3.306 3.979 2.853 3.979 4.551 0 .291-.231.964-1.888.964-1.662 0-2.759-.609-2.759-.609l-.495 2.216c0 0 1.063.606 3.117.606 2.059 0 4.915-1.54 4.915-3.752C30.354 23.586 26.369 23.394 26.369 22.206z"}),(0,a.jsx)("path",{fill:"#FFC107",d:"M12.212,24.945l-0.966-4.748c0,0-0.437-1.029-1.573-1.029c-1.136,0-4.44,0-4.44,0S10.894,20.84,12.212,24.945z"})]}),"MasterCard"===r&&(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"25",height:"25",viewBox:"0 0 48 48",children:[(0,a.jsx)("path",{fill:"#3F51B5",d:"M45,35c0,2.209-1.791,4-4,4H7c-2.209,0-4-1.791-4-4V13c0-2.209,1.791-4,4-4h34c2.209,0,4,1.791,4,4V35z"}),(0,a.jsx)("path",{fill:"#FFC107",d:"M30 14A10 10 0 1 0 30 34A10 10 0 1 0 30 14Z"}),(0,a.jsx)("path",{fill:"#FF3D00",d:"M22.014,30c-0.464-0.617-0.863-1.284-1.176-2h5.325c0.278-0.636,0.496-1.304,0.637-2h-6.598C20.07,25.354,20,24.686,20,24h7c0-0.686-0.07-1.354-0.201-2h-6.598c0.142-0.696,0.359-1.364,0.637-2h5.325c-0.313-0.716-0.711-1.383-1.176-2h-2.973c0.437-0.58,0.93-1.122,1.481-1.595C21.747,14.909,19.481,14,17,14c-5.523,0-10,4.477-10,10s4.477,10,10,10c3.269,0,6.162-1.575,7.986-4H22.014z"})]}),"Unknown"===r&&(0,a.jsx)(f.Z,{color:"primary"})]})}})}),(0,a.jsx)(p.ZP,{item:!0,xs:12,md:6,children:(0,a.jsx)(j.Z,{required:!0,id:"expDate",label:"Expiration Date",fullWidth:!0,autoComplete:"cc-exp",variant:"standard",name:"expirationDate",onChange:handleChange,value:i.expirationDate,placeholder:"YY/MM"})}),(0,a.jsx)(p.ZP,{item:!0,xs:12,md:6,children:(0,a.jsx)(j.Z,{required:!0,id:"cvv",label:"CVV",helperText:"Last three digits on signature strip",fullWidth:!0,autoComplete:"cc-csc",variant:"standard",name:"cvv",onChange:handleChange,value:i.cvv,type:"password"})}),(0,a.jsx)(p.ZP,{item:!0,xs:12,children:(0,a.jsx)(g.Z,{control:(0,a.jsx)(Z.Z,{color:"secondary",name:"saveCard",value:"yes"}),label:"Remember credit card details for next time"})})]})]})},C=r(35266),y=r(80356),b=r(38212);let P=[{name:"Product 1",desc:"A nice thing",price:"$9.99"},{name:"Product 2",desc:"Another thing",price:"$3.45"},{name:"Product 3",desc:"Something else",price:"$6.51"},{name:"Product 4",desc:"Best thing of all",price:"$14.11"},{name:"Shipping",desc:"",price:"Free"}],w=["1 MUI Drive","Reactville","Anytown","99999","USA"],F=[{name:"Card type",detail:"Visa"},{name:"Card holder",detail:"Mr John Smith"},{name:"Card number",detail:"xxxx-xxxx-xxxx-1234"},{name:"Expiry date",detail:"04/2024"}];function Review(){return(0,a.jsxs)(u.Fragment,{children:[(0,a.jsx)(x.Z,{variant:"h6",gutterBottom:!0,children:"Order summary"}),(0,a.jsxs)(C.Z,{disablePadding:!0,children:[P.map(e=>(0,a.jsxs)(y.ZP,{sx:{py:1,px:0},children:[(0,a.jsx)(b.Z,{primary:e.name,secondary:e.desc}),(0,a.jsx)(x.Z,{variant:"body2",children:e.price})]},e.name)),(0,a.jsxs)(y.ZP,{sx:{py:1,px:0},children:[(0,a.jsx)(b.Z,{primary:"Total"}),(0,a.jsx)(x.Z,{variant:"subtitle1",sx:{fontWeight:700},children:"$34.06"})]})]}),(0,a.jsxs)(p.ZP,{container:!0,spacing:2,children:[(0,a.jsxs)(p.ZP,{item:!0,xs:12,sm:6,children:[(0,a.jsx)(x.Z,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Shipping"}),(0,a.jsx)(x.Z,{gutterBottom:!0,children:"John Smith"}),(0,a.jsx)(x.Z,{gutterBottom:!0,children:w.join(", ")})]}),(0,a.jsxs)(p.ZP,{item:!0,container:!0,direction:"column",xs:12,sm:6,children:[(0,a.jsx)(x.Z,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Payment details"}),(0,a.jsx)(p.ZP,{container:!0,children:F.map(e=>(0,a.jsxs)(u.Fragment,{children:[(0,a.jsx)(p.ZP,{item:!0,xs:6,children:(0,a.jsx)(x.Z,{gutterBottom:!0,children:e.name})}),(0,a.jsx)(p.ZP,{item:!0,xs:6,children:(0,a.jsx)(x.Z,{gutterBottom:!0,children:e.detail})})]},e.name))})]})]})]})}r(36661);let N=["Shipping address","Payment details","Review your order"];function Checkout(){let[e,t]=u.useState(0),[r,p]=u.useState(""),[j,g]=u.useState(!1),[Z,v]=(0,u.useState)({theater_name:"",description:"",city:"",location_url:"",zipcode:"",phno:"",email:"",address:"",state:""}),handleNext=()=>{t(e+1)};return(0,a.jsxs)(u.Fragment,{children:[(0,a.jsx)(n.ZP,{}),(0,a.jsx)(i.Z,{position:"absolute",color:"default",elevation:0,sx:{position:"relative",borderBottom:e=>"1px solid ".concat(e.palette.divider)}}),(0,a.jsx)(d.Z,{component:"main",maxWidth:"sm",sx:{mb:4},children:(0,a.jsxs)(l.Z,{variant:"outlined",sx:{my:{xs:3,md:6},p:{xs:2,md:3}},children:[(0,a.jsx)(x.Z,{component:"h1",variant:"h4",align:"center",children:"Checkout"}),(0,a.jsx)(o.Z,{activeStep:e,sx:{pt:3,pb:5},children:N.map(e=>(0,a.jsx)(c.Z,{children:(0,a.jsx)(h.Z,{children:e})},e))}),e===N.length?(0,a.jsxs)(u.Fragment,{children:[(0,a.jsx)(x.Z,{variant:"h5",gutterBottom:!0,children:"Thank you for your order."}),(0,a.jsx)(x.Z,{variant:"subtitle1",children:"Your order number is #2001539. We have emailed your order confirmation, and will send you an update when your order has shipped."})]}):(0,a.jsxs)(u.Fragment,{children:[function(e,t){switch(e){case 0:return(0,a.jsx)(Card_AddressForm,{onSubmit:t});case 1:return(0,a.jsx)(Card_PaymentForm,{onSubmit:t});case 2:return(0,a.jsx)(Review,{});default:throw Error("Unknown step")}}(e,t=>{v(r=>({...r,[N[e].toLowerCase()]:t})),handleNext()}),(0,a.jsxs)(s.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:[0!==e&&(0,a.jsx)(m.Z,{onClick:()=>{t(e-1)},sx:{mt:3,ml:1},children:"Back"}),(0,a.jsx)(m.Z,{variant:"contained",onClick:handleNext,sx:{mt:3,ml:1},type:"submit",children:e===N.length-1?"Place order":"Next"})]})]})]})})]})}},36661:function(e,t,r){"use strict";async function handleResponse(e){let t=e.headers.get("Content-Type")||"",r=t.includes("application/json"),a=r?await e.json():await e.text();if(!e.ok){if(r&&null!==a.errors)throw Error(JSON.stringify(a.errors));throw Error(a.message||e.statusText)}return a}async function getDataFromEndPoint(e,t,r){let a="api//"+t,n=e instanceof FormData;if("GET"==r){let e=await fetch(a,{method:r,credentials:"include"});return handleResponse(e).then(e=>e)}let i={method:r,credentials:"include",body:e};console.log(e),n||(i.headers={"Content-Type":"application/json"},i.body=JSON.stringify(e)),console.log(i.body);let s=await fetch(a,i);return handleResponse(s).then(e=>e)}r.d(t,{e:function(){return getDataFromEndPoint}})}},function(e){e.O(0,[5094,3807,3226,5295,4141,8874,414,6336,4567,5751,3521,2971,2472,1744],function(){return e(e.s=64033)}),_N_E=e.O()}]);