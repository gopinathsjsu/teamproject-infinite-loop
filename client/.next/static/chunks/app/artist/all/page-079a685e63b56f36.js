(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8913],{94289:function(e,t,n){Promise.resolve().then(n.bind(n,90061))},90061:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Contact}});var r=n(57437),a=n(2265),i=n(3283),s=n(39227),l=n(26931),o=n(72261),d=n(49050),c=n(43226),h=n(98075),u=n(26398),p=n(55594),x=n(92750),f=n(74124),m=n(54),g=n(90923),j=n(50819),b=n(65507),Z=n(84081),y=n(10654),w=n(47827),C=n(83686),v=n(35843),S=n(63955),A=n(28874),O=n(36661),P=n(48217),k=n(24033);let E={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},D=["Director","Producer","Music Director","Screenwriter","Cinematographer","Editor","Art Director"],I=["Actor","Actress","Other Actors"],W={PaperProps:{style:{maxHeight:224,width:250}}},F=(0,v.ZP)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",whiteSpace:"nowrap",width:1});function getStyles(e,t,n){return{fontWeight:-1===t.indexOf(e)?n.typography.fontWeightRegular:n.typography.fontWeightMedium}}function Contact(){let[e,t]=(0,a.useState)([]),[n,v]=(0,a.useState)([]),[R,T]=(0,a.useState)([]);(0,a.useEffect)(()=>{let fetchData=async()=>{try{let e=await fetch("http://localhost:8080/api/artist/all");if(!e.ok)throw Error("Error: ".concat(e.status));let t=await e.json();v(t.Cast),T(t.Crew),console.log(t)}catch(e){console.error("Failed to fetch data:",e)}};fetchData()},[]);let _=(0,k.useRouter)(),handleArtistClick=e=>{_.push("/artist/".concat(e))},[M,N]=(0,a.useState)({fullname:"",dateOfBirth:"",gender:"",category:"",profession:[],about:""}),[B,G]=(0,a.useState)(!1),handleClose=()=>G(!1),[U,q]=(0,a.useState)(null),[J,L]=(0,a.useState)(!1),[H,V]=(0,a.useState)(""),submitForm=async r=>{r.preventDefault();let a=new FormData;U&&a.append("image",U),Object.entries(M).forEach(e=>{let[t,n]=e;"profession"===t?a.append(t,n.join(", ")):a.append(t,n)});let i=await (0,O.e)(a,"artist/add","POST");200===i.status&&(t([...e,i.artist]),"Crew"===M.category?T([...R,i.artist]):"Cast"===M.category&&v([...n,i.artist])),handleClose(),console.log(i)},handleInput=e=>{let{name:t,value:n}=e.target;N(e=>({...e,[t]:n}))};return(0,r.jsxs)("div",{children:[(0,r.jsx)(d.Z,{sx:{paddingTop:2,paddingRight:0,fontWeight:"bold"},onClick:()=>G(!0),children:"Add Artist"}),(0,r.jsx)(l.Z,{open:B,onClose:handleClose,closeAfterTransition:!0,"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",children:(0,r.jsx)(o.Z,{in:B,children:(0,r.jsx)(s.Z,{sx:E,children:(0,r.jsx)("form",{onSubmit:submitForm,encType:"multipart/form-data",children:(0,r.jsxs)(h.Z,{direction:"column",spacing:2,children:[(0,r.jsx)(s.Z,{sx:{display:"flex",justifyContent:"center"},children:(0,r.jsx)(i.Z,{sx:{width:100,height:100},src:U?URL.createObjectURL(U):"/broken-image.jpg"})}),(0,r.jsx)(s.Z,{sx:{display:"flex",justifyContent:"center"},children:(0,r.jsxs)(d.Z,{sx:{width:200},component:"label",variant:"contained",startIcon:(0,r.jsx)(C.Z,{}),children:["Upload file",(0,r.jsx)(F,{type:"file",name:"file",onChange:e=>{let t=e.target.files;if(t&&t.length>0){let e=t[0];q(e)}}})]})}),(0,r.jsx)(p.Z,{sx:{width:330},label:"Full Name",required:!0,name:"fullname",variant:"outlined",onChange:handleInput,value:M.fullname}),(0,r.jsx)(p.Z,{sx:{width:330},label:"About",name:"about",required:!0,variant:"outlined",onChange:handleInput,value:M.about}),(0,r.jsx)(f._,{dateAdapter:x.y,children:(0,r.jsx)(m.M,{sx:{width:330},label:"Date of Birth",value:M.dateOfBirth,onChange:e=>N({...M,dateOfBirth:null!=e?e:""})})}),(0,r.jsxs)(Z.Z,{sx:{m:1,width:330},children:[(0,r.jsx)(j.Z,{id:"gender-select-label",children:"Gender"}),(0,r.jsxs)(y.Z,{labelId:"gender-select-label",id:"gender-select",value:M.gender,name:"gender",label:"Gender",onChange:handleInput,children:[(0,r.jsx)(b.Z,{value:"Male",children:"Male"}),(0,r.jsx)(b.Z,{value:"Female",children:"Female"}),(0,r.jsx)(b.Z,{value:"Other",children:"Other"})]})]}),(0,r.jsxs)(Z.Z,{sx:{m:1,width:330},children:[(0,r.jsx)(j.Z,{id:"category-select-label",children:"Artist Category"}),(0,r.jsxs)(y.Z,{labelId:"category-select-label",id:"category-select",value:M.category,name:"category",label:"Artist Category",onChange:handleInput,children:[(0,r.jsx)(b.Z,{value:"Crew",children:"Crew"}),(0,r.jsx)(b.Z,{value:"Cast",children:"Cast"}),(0,r.jsx)(b.Z,{value:"Other",children:"Other"})]})]}),(0,r.jsxs)(Z.Z,{sx:{m:1,width:330},children:[(0,r.jsx)(j.Z,{id:"profession-select-label",children:"Profession"}),(0,r.jsxs)(y.Z,{labelId:"profession-select-label",id:"profession-select",multiple:!0,name:"profession",value:M.profession,onChange:handleInput,input:(0,r.jsx)(g.Z,{id:"select-multiple-chip",label:"Profession"}),renderValue:e=>(0,r.jsx)(s.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map(e=>(0,r.jsx)(w.Z,{label:e},e))}),MenuProps:W,children:["Crew"===M.category&&D.map(e=>(0,r.jsx)(b.Z,{value:e,style:getStyles(e,M.profession,P.Z),children:e},e)),"Cast"===M.category&&I.map(e=>(0,r.jsx)(b.Z,{value:e,style:getStyles(e,M.profession,P.Z),children:e},e))]})]}),(0,r.jsx)(d.Z,{variant:"contained",endIcon:(0,r.jsx)(u.Z,{}),type:"submit",sx:{mt:2},children:"Submit"}),J&&(0,r.jsx)(s.Z,{sx:{mt:2},children:(0,r.jsx)(c.Z,{color:"green",children:H})})]})})})})}),(0,r.jsxs)(S.Z,{maxWidth:"lg",sx:{borderRadius:2,overflow:"hidden",mt:2,mb:4},children:[(0,r.jsx)(c.Z,{variant:"h5",component:"div",sx:{fontWeight:"bold",mb:2},children:"Cast"}),(0,r.jsx)(A.ZP,{container:!0,spacing:1,children:n.map((e,t)=>(0,r.jsx)(A.ZP,{item:!0,xs:6,sm:4,md:3,lg:2,children:(0,r.jsxs)(s.Z,{sx:{textAlign:"center",p:1},children:[(0,r.jsx)(i.Z,{alt:e.name,src:e.profile_url,sx:{width:120,height:120,margin:"auto",mb:1,cursor:"pointer"},onClick:()=>handleArtistClick(e.id)}),(0,r.jsx)(c.Z,{variant:"subtitle1",sx:{fontWeight:"bold"},children:e.name}),(0,r.jsx)(c.Z,{variant:"body2",children:e.profession})]})},"member-".concat(t)))})]}),(0,r.jsxs)(S.Z,{maxWidth:"lg",sx:{borderRadius:2,overflow:"hidden",mt:2,mb:4},children:[(0,r.jsx)(c.Z,{variant:"h5",component:"div",sx:{fontWeight:"bold",mb:2},children:"Crew"}),(0,r.jsx)(A.ZP,{container:!0,spacing:1,children:R.map((e,t)=>(0,r.jsx)(A.ZP,{item:!0,xs:6,sm:4,md:3,lg:2,children:(0,r.jsxs)(s.Z,{sx:{textAlign:"center",p:1},children:[(0,r.jsx)(i.Z,{alt:e.name,src:e.profile_url,sx:{width:120,height:120,margin:"auto",mb:1,cursor:"pointer"},onClick:()=>handleArtistClick(e.id)}),(0,r.jsx)(c.Z,{variant:"subtitle1",sx:{fontWeight:"bold"},children:e.name}),(0,r.jsx)(c.Z,{variant:"body2",children:e.profession})]})},"member-".concat(t)))})]})]})}},48217:function(e,t,n){"use strict";var r=n(98595);let a=(0,r.Z)({palette:{primary:{main:"#1976d2",light:"#42a5f5",dark:"#1565c0",contrastText:"#fff"}}});t.Z=a},36661:function(e,t,n){"use strict";async function handleResponse(e){let t=e.headers.get("Content-Type")||"",n=t.includes("application/json"),r=n?await e.json():await e.text();if(!e.ok){if(n&&null!==r.errors)throw Error(JSON.stringify(r.errors));throw Error(r.message||e.statusText)}return r}async function getDataFromEndPoint(e,t,n){let r="api//"+t,a=e instanceof FormData;if("GET"==n){let e=await fetch(r,{method:n,credentials:"include"});return handleResponse(e).then(e=>e)}let i={method:n,credentials:"include",body:e};console.log(e),a||(i.headers={"Content-Type":"application/json"},i.body=JSON.stringify(e)),console.log(i.body);let s=await fetch(r,i);return handleResponse(s).then(e=>e)}n.d(t,{e:function(){return getDataFromEndPoint}})}},function(e){e.O(0,[5094,3807,3226,5295,4141,8874,414,6375,6336,7827,9633,4066,2971,2472,1744],function(){return e(e.s=94289)}),_N_E=e.O()}]);