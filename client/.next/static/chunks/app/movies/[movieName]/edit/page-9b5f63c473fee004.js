(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2127],{1424:function(e,t,i){Promise.resolve().then(i.bind(i,80251))},80251:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return EditMovie}});var a=i(57437),n=i(2265),l=i(49050),r=i(55594),s=i(10654),o=i(65507),d=i(39227),p=i(47827),c=i(50819),h=i(90923),u=i(84081),m=i(29872),x=i(43226),f=i(71711),g=i(3283),v=i(36661),y=i(48217),j=i(71932),b=i(24033);function EditMovie(){let{movieName:e}=(0,b.useParams)(),[t,i]=(0,n.useState)([]),[Z,w]=(0,n.useState)([]),[S,C]=(0,n.useState)([]),[T,M]=(0,n.useState)([]),[k,A]=(0,n.useState)(null),[D,R]=(0,n.useState)({movieName:"",AboutTheMovie:"",movieTrailerLink:"",Runtime:"",genre:[],format:[],endDate:"",releaseDate:"",cast:"",crew:"",certificate:"",languages:""});(0,n.useEffect)(()=>{let fetchMovie=async()=>{try{let t=await (0,v.e)("","movie/".concat(e),"GET");R(()=>({movieName:t.movie.title,AboutTheMovie:t.movie.description,movieTrailerLink:t.movie.trailer_url,Runtime:t.movie.run_time,genre:t.movie.genres[0].split(","),format:t.movie.format.split(","),endDate:t.movie.end_date.split("T")[0],releaseDate:t.movie.release_date.split("T")[0],cast:"",crew:"",certificate:t.movie.certificate,languages:t.movie.languages[0]})),C(t.cast.map(e=>({id:e.id,name:e.name,description:e.description,profession:e.profession,profile_url:e.profile_url}))),M(t.crew.map(e=>({id:e.id,name:e.name,description:e.description,profession:e.profession,profile_url:e.profile_url})))}catch(e){console.error("Failed to fetch data:",e)}},fetchArtsitData=async()=>{try{let e=await (0,v.e)("","artist/all","GET");w(e.Crew),i(e.Cast),fetchMovie()}catch(e){console.error("Failed to fetch data:",e)}};fetchArtsitData()},[]);let F=(0,b.useRouter)(),I={PaperProps:{style:{maxHeight:224,width:250}}};function getStyles(e,t,i){return{fontWeight:-1===t.indexOf(e)?i.typography.fontWeightRegular:i.typography.fontWeightMedium}}let handleInput=e=>{console.log(e.target);let t=e.target.name,i=e.target.value;R(e=>({...e,[t]:i}))},submitForm=async t=>{t.preventDefault(),console.log(D);let i=new FormData;Object.entries(D).forEach(e=>{let[t,a]=e;"genre"===t||"format"===t?i.append(t,a.join(", ")):i.append(t,a)}),k&&k.forEach((e,t)=>{i.append("movieposter",e)}),i.append("castIds",S.map(e=>e.id).join(",")),console.log(T),i.append("crewIds",T.map(e=>e.id).join(",")),i.append("id",e);let a=await (0,v.e)(i,"movie/updateMovie","POST");null!=a&&F.push("/movie/all")};return(0,a.jsxs)("div",{style:{display:"block",width:"50%",margin:"auto",paddingTop:"100px"},children:[(0,a.jsx)(m.Z,{elevation:3,style:{padding:"2px",textAlign:"center",marginBottom:"30px"},children:(0,a.jsx)(x.Z,{variant:"h4",component:"h1",style:{fontFamily:"Arial, sans-serif",fontSize:"36px",fontWeight:"bold",color:"#333",textTransform:"uppercase",borderBottom:"2px solid #0073e6",padding:"10px 0",textAlign:"center",letterSpacing:"2px",textShadow:"2px 2px 4px rgba(0, 0, 0, 0.2)"},children:"Update Movie"})}),(0,a.jsx)("form",{method:"POST",onSubmit:submitForm,children:(0,a.jsxs)(d.Z,{component:"div",sx:{backgroundColor:"white",padding:"15px",borderRadius:"1px",boxShadow:"0px 0px 10px rgba(0, 0, 0, 0.1)"},children:[(0,a.jsx)("div",{style:{marginBottom:"12px"},children:(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"16px"},children:[(0,a.jsxs)("div",{style:{display:"flex",gap:"20px"},children:[(0,a.jsx)("div",{style:{flex:1},children:(0,a.jsx)(r.Z,{label:"Movie Name",variant:"outlined",fullWidth:!0,name:"movieName",placeholder:"Movie Name",onChange:handleInput,value:D.movieName})}),(0,a.jsx)("div",{style:{flex:1},children:(0,a.jsx)(r.Z,{label:"About the Movie",variant:"outlined",fullWidth:!0,name:"AboutTheMovie",placeholder:"About the Movie",onChange:handleInput,value:D.AboutTheMovie})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.Z,{htmlFor:"end-date",shrink:!0,children:"Movie Poster"}),(0,a.jsx)(r.Z,{variant:"outlined",fullWidth:!0,name:"movieposter",type:"file",onChange:e=>{let t=e.target.files;if(t&&t.length>0){console.log(t);let e=Array.from(t);A(e)}},inputProps:{multiple:!0}})]}),(0,a.jsxs)("div",{style:{display:"flex",gap:"20px"},children:[(0,a.jsx)("div",{style:{flex:1},children:(0,a.jsx)(r.Z,{label:"Movie Trailer Link",variant:"outlined",fullWidth:!0,name:"movieTrailerLink",onChange:handleInput,value:D.movieTrailerLink})}),(0,a.jsx)("div",{style:{flex:1},children:(0,a.jsx)(r.Z,{label:"Runtime",variant:"outlined",fullWidth:!0,name:"Runtime",placeholder:"Runtime",onChange:handleInput,value:D.Runtime})})]})]})}),(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"16px"},children:[(0,a.jsxs)("div",{style:{display:"flex",gap:"16px"},children:[(0,a.jsx)("div",{children:(0,a.jsxs)(u.Z,{sx:{m:1,width:300},children:[(0,a.jsx)(c.Z,{id:"demo-multiple-chip-label",children:"Select Genres"}),(0,a.jsx)(s.Z,{labelId:"demo-multiple-chip-label",id:"demo-multiple-chip",multiple:!0,value:D.genre,onChange:e=>{let{target:{value:t}}=e;R(e=>({...e,genre:t}))},input:(0,a.jsx)(h.Z,{id:"select-multiple-chip",label:"Select Genres"}),renderValue:e=>(0,a.jsx)(d.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map(e=>(0,a.jsx)(p.Z,{label:e},e))}),MenuProps:I,children:["Action","Drama","Comedy","Science Fiction","Horror","Romance","Fantasy","Thriller","Adventure","Mystery"].map((e,t)=>(0,a.jsx)(o.Z,{value:e,style:getStyles(e,D.genre,y.Z),children:e},e))})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)(u.Z,{sx:{m:1,width:300},children:[(0,a.jsx)(c.Z,{id:"format-multiple-chip-label",children:"Select Format"}),(0,a.jsx)(s.Z,{labelId:"format-multiple-chip-label",id:"format-multiple-chip",multiple:!0,value:D.format,onChange:e=>{let{target:{value:t}}=e;R(e=>({...e,format:t}))},input:(0,a.jsx)(h.Z,{id:"select-multiple-chip-format",label:"Select Format"}),renderValue:e=>(0,a.jsx)(d.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map(e=>(0,a.jsx)(p.Z,{label:e},e))}),MenuProps:I,children:["IMAX 70mm","4DX","3D","SD"].map(e=>(0,a.jsx)(o.Z,{value:e,style:getStyles(e,D.format,y.Z),children:e},e))})]})})]}),(0,a.jsxs)("div",{style:{display:"flex",gap:"16px"},children:[(0,a.jsx)("div",{children:(0,a.jsxs)(u.Z,{fullWidth:!0,variant:"outlined",children:[(0,a.jsx)(c.Z,{htmlFor:"Release-date",shrink:!0,children:"Release Date"}),(0,a.jsx)(f.Z,{id:"Release-date",type:"date",name:"releaseDate",value:D.releaseDate,onChange:handleInput})]})}),(0,a.jsx)("div",{children:(0,a.jsxs)(u.Z,{fullWidth:!0,variant:"outlined",children:[(0,a.jsx)(c.Z,{htmlFor:"end-date",shrink:!0,children:"End Date"}),(0,a.jsx)(f.Z,{id:"end-date",type:"date",name:"endDate",value:D.endDate,onChange:handleInput})]})})]}),(0,a.jsx)("div",{children:(0,a.jsx)(j.Z,{multiple:!0,id:"tags-outlined",options:t,getOptionLabel:e=>e.name||"",value:S,onChange:(e,t)=>{C(t)},renderOption:(e,t)=>(0,a.jsxs)(d.Z,{component:"li",...e,children:[(0,a.jsx)(g.Z,{src:t.profile_url,alt:t.name,sx:{width:30,height:30,marginRight:1}},t.name),t.name]}),renderTags:(e,t)=>e.map((e,i)=>(0,n.createElement)(d.Z,{...t({index:i}),component:"div",sx:{display:"flex",alignItems:"center",gap:1},key:i,children:[(0,a.jsx)("img",{src:e.profile_url,alt:e.name,style:{width:"30px",height:"30px",borderRadius:"50%"}}),e.name]})),renderInput:e=>(0,a.jsx)(r.Z,{...e,label:"Movie Cast",placeholder:"Cast"})})}),(0,a.jsx)("div",{children:(0,a.jsx)(j.Z,{multiple:!0,id:"tags-outlined",options:Z,getOptionLabel:e=>e.name||"",value:T,onChange:(e,t)=>{M(t)},renderOption:(e,t)=>(0,a.jsxs)(d.Z,{component:"li",...e,children:[(0,a.jsx)(g.Z,{src:t.profile_url,alt:t.name,sx:{width:30,height:30,marginRight:1}},t.name),t.name]}),renderTags:(e,t)=>e.map((e,i)=>(0,n.createElement)(d.Z,{...t({index:i}),component:"div",sx:{display:"flex",alignItems:"center",gap:1},key:i,children:[(0,a.jsx)("img",{src:e.profile_url,alt:e.name,style:{width:"30px",height:"30px",borderRadius:"50%"}}),e.name]})),renderInput:e=>(0,a.jsx)(r.Z,{...e,label:"Movie Crew",placeholder:"Crew"})})}),(0,a.jsxs)("div",{style:{display:"flex",gap:"16px"},children:[(0,a.jsx)("div",{children:(0,a.jsxs)(u.Z,{variant:"outlined",fullWidth:!0,style:{width:"200px"},children:[(0,a.jsx)(c.Z,{children:"Certificate"}),(0,a.jsxs)(s.Z,{label:"Certificate",value:D.certificate,onChange:handleInput,name:"certificate",children:[(0,a.jsx)(o.Z,{value:"U",children:"U"},"U"),(0,a.jsx)(o.Z,{value:"U/A",children:"U/A"},"U/A"),(0,a.jsx)(o.Z,{value:"A",children:"A"},"A")]})]})}),(0,a.jsx)("div",{children:(0,a.jsx)(r.Z,{select:!0,value:D.languages,onChange:handleInput,variant:"outlined",fullWidth:!0,name:"languages",SelectProps:{native:!0},children:["Select a language","English","Spanish","French","German","Mandarin Chinese","Hindi","Japanese","Korean","Italian","Russian","Portuguese","Arabic","Turkish","Persian","Swedish","Danish","Norwegian","Finnish","Dutch","Greek","Polish","Hungarian","Czech","Thai","Hebrew","Tamil","Telugu","Bengali"].map((e,t)=>(0,a.jsx)("option",{value:e,children:e},t))})})]}),(0,a.jsx)(l.Z,{type:"submit",variant:"contained",color:"primary",children:"Submit"})]})]})})]})}},48217:function(e,t,i){"use strict";var a=i(98595);let n=(0,a.Z)({palette:{primary:{main:"#009688",light:"#52c7b8",dark:"#00675b",contrastText:"#fff"},secondary:{main:"#ff9800",light:"#ffb74d",dark:"#f57c00",contrastText:"#000"},background:{default:"#f5f5f5",paper:"#fff"},text:{primary:"#212121",secondary:"#757575"}},typography:{fontFamily:'-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif',fontSize:14,h1:{fontSize:"2.5rem",fontWeight:500}},components:{MuiDrawer:{styleOverrides:{paper:{backgroundColor:"#424242",color:"#fff"}}},MuiTooltip:{styleOverrides:{tooltip:{backgroundColor:"#333",color:"#fff",fontSize:"0.875em"}}},MuiAvatar:{styleOverrides:{root:{border:"2px solid #fff",boxShadow:"0 2px 10px rgba(0,0,0,0.2)"}}},MuiSnackbar:{styleOverrides:{root:{backgroundColor:"#009688"}}}}});t.Z=n},36661:function(e,t,i){"use strict";async function handleResponse(e){let t=e.headers.get("Content-Type")||"",i=t.includes("application/json"),a=i?await e.json():await e.text();if(!e.ok){if(i&&null!==a.errors)throw Error(JSON.stringify(a.errors));throw Error(a.message||e.statusText)}return a}async function getDataFromEndPoint(e,t,i){let a="http://ec2-3-101-12-15.us-west-1.compute.amazonaws.com/api/"+t,n=e instanceof FormData;if("GET"==i){let e=await fetch(a,{method:i,credentials:"include"});return handleResponse(e).then(e=>e)}let l={method:i,credentials:"include",body:e};n||(l.headers={"Content-Type":"application/json"},l.body=JSON.stringify(e));let r=await fetch(a,l);return handleResponse(r).then(e=>e)}i.d(t,{e:function(){return getDataFromEndPoint}})}},function(e){e.O(0,[5094,3226,4876,5295,1444,2171,8500,5594,7827,9858,1932,9052,2971,2472,1744],function(){return e(e.s=1424)}),_N_E=e.O()}]);