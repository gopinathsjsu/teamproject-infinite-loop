(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3427],{83686:function(e,r,t){"use strict";var a=t(26314);r.Z=void 0;var n=a(t(80984)),s=t(57437),l=(0,n.default)((0,s.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}),"CloudUpload");r.Z=l},13391:function(e,r,t){"use strict";var a=t(26314);r.Z=void 0;var n=a(t(80984)),s=t(57437),l=(0,n.default)((0,s.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");r.Z=l},26398:function(e,r,t){"use strict";var a=t(26314);r.Z=void 0;var n=a(t(80984)),s=t(57437),l=(0,n.default)((0,s.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");r.Z=l},38159:function(e,r,t){Promise.resolve().then(t.bind(t,66170))},8609:function(e,r,t){"use strict";t.d(r,{Z:function(){return InnerPageContainer}});var a=t(57437);function InnerPageContainer(e){let{title:r,children:t}=e;return(0,a.jsx)("div",{className:"m-auto ngrid place-items-center max-w-2xl bg-base-100 pb-48",children:(0,a.jsxs)("div",{className:"max-w-5xl content-center flex-col justify-center",children:[(0,a.jsx)("h1",{className:"text-5xl mt-16 mb-12 font-bold text-center block",children:r}),(0,a.jsx)("div",{className:"",children:t})]})})}},66170:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return Profile}});var a=t(57437),n=t(2265),s=t(8609),l=t(61865),i=t(38110),d=t(74578),o=t(43226),u=t(28874),c=t(55594),h=t(84081),p=t(50819),m=t(10654),g=t(65507),f=t(39227),x=t(3283),j=t(49050),v=t(31678),Z=t(74124),y=t(83686),C=t(92750),b=t(29872),P=t(45550),w=t(13391),_=t(26398),L=t(93037),I=t(35266),E=t(80356),N=t(74548),O=t.n(N),S=t(48475),M=t.n(S),A=t(16896),k=t(36661);let F=d.Ry({email:d.Z_().email({message:"Invalid email address"}),fullName:d.Z_().min(1,{message:"Full name is required"}),phoneNumber:d.Z_().min(10,{message:"Invalid phone number"}),dateOfBirth:d.Yj(),gender:d.Z_().min(1,{message:"Gender is required"}),address1:d.Z_().min(1,{message:"Address1 is required"}),address2:d.Z_().optional(),city:d.Z_().min(1,{message:"City is required"}),state:d.Z_().min(1,{message:"State is required"}),country:d.Z_().min(1,{message:"Country is required"}),zipCode:d.Z_().min(1,{message:"Zip Code is required"}),genres:d.IX(d.Z_()).nonempty("Select atleast one genre"),favoriteCast:d.IX(d.Z_()).nonempty("Select atleast one artist"),favoriteCrew:d.IX(d.Z_()).nonempty("Select atleast one crew"),preferredLanguages:d.IX(d.Z_()).nonempty("Select atleast one language")}),D=["Action","Drama","Comedy","Science Fiction","Horror","Romance","Fantasy","Thriller","Adventure","Mystery"],T=["English","Spanish","French","German","Mandarin Chinese","Hindi","Japanese","Korean","Italian","Russian","Portuguese","Arabic","Turkish","Persian","Swedish","Danish","Norwegian","Finnish","Dutch","Greek","Polish","Hungarian","Czech","Thai","Hebrew","Tamil","Telugu","Bengali"];function Profile(){let[e,r]=n.useState(null),[t,d]=n.useState(""),[N,S]=(0,n.useState)([]),[z,W]=(0,n.useState)([]),[U,Q]=(0,n.useState)(!1),q=(0,A.Z)(),[R,B]=(0,n.useState)(""),[G,V]=(0,n.useState)(!1),[H,Y]=(0,n.useState)({}),{register:X,control:J,formState:{errors:K},getValues:$,trigger:ee,setValue:er}=(0,l.cI)({resolver:(0,i.F)(F)});n.useEffect(()=>{let e=q.user.user_id,fetchProfileDetails=async()=>{try{let r=await (0,k.e)("","user/profileDetails/".concat(e),"GET"),t=r.data;Y(t),er("email",t.email),er("fullName",t.fullname),er("phoneNumber",t.mobile),er("dateOfBirth",O()(t.dob)),er("gender",t.gender),er("address1",t.address1),d(t.address1),er("address2",t.address2),er("city",t.city),er("state",t.state),er("country",t.country),er("zipCode",t.zipcode),er("preferredLanguages",t.preferred_languages[0].split(", ")),er("genres",t.genres[0].split(", ")),t.favourite_artists.length>0&&er("favoriteCast",t.favourite_artists[0].split(",")),t.favourite_crew.length>0&&er("favoriteCrew",t.favourite_crew[0].split(",")),B(t.profile_url)}catch(e){console.error("Failed to fetch data:",e)}},fetchArtistData=async()=>{try{let e=await (0,k.e)("","artist/all","GET");W(e.Crew),S(e.Cast),fetchProfileDetails()}catch(e){console.error("Failed to fetch data:",e)}};fetchArtistData()},[]);let handleSelect=async e=>{let r=await (0,L.NU)(e),t=r[0].address_components,getAddressComponent=e=>{var r;return(null===(r=t.find(r=>r.types.includes(e)))||void 0===r?void 0:r.long_name)||""},a=getAddressComponent("route"),n=getAddressComponent("street_number"),s="".concat(n," ").concat(a);d(s),er("address1",s),er("city",getAddressComponent("locality")),er("state",getAddressComponent("administrative_area_level_1")),er("country",getAddressComponent("country")),er("zipCode",getAddressComponent("postal_code"))},getErrorMessage=e=>e&&"string"==typeof e.message?e.message:"";async function submitData(){if(ee(),0==Object.keys(K).length){let e=new FormData;Object.entries($()).forEach(r=>{let[t,a]=r;"selectedFile"==t?e.append("file",a):Array.isArray(a)?e.append(t,a.join(", ")):e.append(t,a)}),e.append("id",H.user_id),await (0,k.e)(e,"user/updateProfile","POST"),V(!1)}}return(0,a.jsxs)("div",{style:{display:"block",width:"50%",margin:"auto",paddingTop:"60px"},children:[(0,a.jsx)(M(),{src:"https://maps.googleapis.com/maps/api/js?key=AIzaSyAH_4KikoUaqV41Fq09gBEsXzADYU1xM8w&libraries=places",strategy:"afterInteractive",onLoad:()=>{Q(!0),console.log("Google Maps script loaded successfully.")}}),(0,a.jsx)("form",{children:(0,a.jsx)(s.Z,{title:"Hi..",children:(0,a.jsxs)(b.Z,{elevation:3,sx:{padding:3,marginBottom:3},children:[(0,a.jsxs)(f.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,a.jsx)(o.Z,{variant:"h6",gutterBottom:!0,children:"Personal Details"}),!G&&(0,a.jsx)(j.Z,{startIcon:(0,a.jsx)(w.Z,{}),onClick:()=>V(!0)})]}),(0,a.jsxs)(u.ZP,{container:!0,spacing:3,children:[(0,a.jsxs)(u.ZP,{item:!0,xs:12,children:[(0,a.jsx)(f.Z,{sx:{display:"flex",justifyContent:"center"},children:(0,a.jsx)(x.Z,{sx:{width:100,height:100},src:e?URL.createObjectURL(e):R})}),G&&(0,a.jsx)(f.Z,{sx:{display:"flex",justifyContent:"center",mt:1},children:(0,a.jsxs)(j.Z,{sx:{width:200},component:"label",variant:"contained",startIcon:(0,a.jsx)(y.Z,{}),children:["Upload file",(0,a.jsx)("input",{type:"file",hidden:!0,onChange:t=>{let a=t.target.files;if(a&&a.length>0){let t=a[0];r(t),B(URL.createObjectURL(e))}}})]})})]}),(0,a.jsx)(u.ZP,{item:!0,xs:6,children:(0,a.jsx)(l.Qr,{name:"email",control:J,render:e=>{let{field:r}=e;return(0,a.jsx)(c.Z,{...r,error:!!K.email,helperText:getErrorMessage(K.email),id:"email",name:"email",inputProps:{readOnly:!0},label:"Email ID",fullWidth:!0,variant:"standard",InputLabelProps:{shrink:!!r.value}})}})}),(0,a.jsx)(u.ZP,{item:!0,xs:6,children:(0,a.jsx)(l.Qr,{name:"fullName",control:J,render:e=>{let{field:r}=e;return(0,a.jsx)(c.Z,{...r,error:!!K.fullName,helperText:getErrorMessage(K.fullName),id:"fullName",name:"fullName",inputProps:{readOnly:!G},label:"Full Name",fullWidth:!0,variant:"standard",InputLabelProps:{shrink:!!r.value}})}})}),(0,a.jsx)(u.ZP,{item:!0,xs:6,children:(0,a.jsx)(l.Qr,{name:"phoneNumber",control:J,render:e=>{let{field:r}=e;return(0,a.jsx)(c.Z,{...r,error:!!K.phoneNumber,helperText:getErrorMessage(K.phoneNumber),id:"phoneNumber",name:"phoneNumber",label:"Phone Number",inputProps:{readOnly:!G},fullWidth:!0,variant:"standard",InputLabelProps:{shrink:!!r.value}})}})}),(0,a.jsx)(u.ZP,{item:!0,xs:3,children:(0,a.jsx)(l.Qr,{name:"dateOfBirth",control:J,defaultValue:null,render:e=>{let{field:r}=e;return(0,a.jsx)(Z._,{dateAdapter:C.y,children:G?(0,a.jsx)(v.M,{sx:{width:"100%"},label:"Date of Birth",...r}):(0,a.jsx)(c.Z,{...r,label:"SelectDate",value:r.value?O()(r.value).format("MM/DD/YYYY"):"",disabled:!G,fullWidth:!0,variant:"outlined",InputLabelProps:{shrink:!!r.value}})})}})}),(0,a.jsx)(u.ZP,{item:!0,xs:3,children:(0,a.jsxs)(h.Z,{fullWidth:!0,children:[(0,a.jsx)(p.Z,{id:"gender-label",children:"Gender"}),(0,a.jsx)(l.Qr,{name:"gender",control:J,defaultValue:"",render:e=>{let{field:r}=e;return(0,a.jsxs)(m.Z,{...r,labelId:"gender-label",inputProps:{readOnly:!G},label:"Gender",variant:"standard",error:!!K.gender,children:[(0,a.jsx)(g.Z,{value:"male",children:"Male"}),(0,a.jsx)(g.Z,{value:"female",children:"Female"}),(0,a.jsx)(g.Z,{value:"other",children:"Other"})]})}}),(0,a.jsx)(o.Z,{variant:"inherit",color:"textSecondary",children:getErrorMessage(K.gender)})]})})]}),(0,a.jsx)(o.Z,{sx:{mt:5},variant:"h6",gutterBottom:!0,children:"Address Details"}),(0,a.jsxs)(u.ZP,{container:!0,spacing:3,children:[(0,a.jsx)(u.ZP,{item:!0,xs:6,children:U&&(0,a.jsx)(L.ZP,{value:t,onChange:d,onSelect:handleSelect,children:e=>{let{getInputProps:r,suggestions:t,getSuggestionItemProps:s,loading:l}=e;return(0,a.jsxs)(f.Z,{children:[(0,a.jsx)(c.Z,{...r({label:"Address1"}),variant:"standard",fullWidth:!0,inputProps:{readOnly:!G},error:!!K.address1,helperText:getErrorMessage(K.address1)}),l&&(0,a.jsx)("div",{children:"Loading..."}),(0,a.jsx)(I.Z,{sx:{position:"absolute",zIndex:1,width:"100%"},children:t.map(e=>(0,n.createElement)(E.ZP,{...s(e),sx:{backgroundColor:e.active?"#b9d2fa":"#ffffff",cursor:"pointer"},key:e.placeId},e.description))})]})}})}),(0,a.jsx)(u.ZP,{item:!0,xs:6,children:(0,a.jsx)(l.Qr,{name:"address2",control:J,render:e=>{let{field:r}=e;return(0,a.jsx)(c.Z,{...r,error:!!K.address2,helperText:getErrorMessage(K.address2),id:"address2",inputProps:{readOnly:!G},name:"address2",label:"Address line 2",fullWidth:!0,variant:"standard",InputLabelProps:{shrink:!!r.value}})}})}),(0,a.jsx)(u.ZP,{item:!0,xs:6,children:(0,a.jsx)(l.Qr,{name:"city",control:J,render:e=>{let{field:r}=e;return(0,a.jsx)(c.Z,{...r,error:!!K.city,helperText:getErrorMessage(K.city),id:"city",name:"city",inputProps:{readOnly:!G},label:"City",fullWidth:!0,variant:"standard",InputLabelProps:{shrink:!!r.value}})}})}),(0,a.jsx)(u.ZP,{item:!0,xs:6,children:(0,a.jsx)(l.Qr,{name:"state",control:J,render:e=>{let{field:r}=e;return(0,a.jsx)(c.Z,{...r,error:!!K.state,helperText:getErrorMessage(K.state),id:"state",name:"state",inputProps:{readOnly:!G},label:"State/Province/Region",fullWidth:!0,variant:"standard",InputLabelProps:{shrink:!!r.value}})}})}),(0,a.jsx)(u.ZP,{item:!0,xs:6,children:(0,a.jsx)(l.Qr,{name:"country",control:J,render:e=>{let{field:r}=e;return(0,a.jsx)(c.Z,{...r,error:!!K.country,helperText:getErrorMessage(K.country),id:"country",name:"country",label:"Country",inputProps:{readOnly:!G},fullWidth:!0,variant:"standard",InputLabelProps:{shrink:!!r.value}})}})}),(0,a.jsx)(u.ZP,{item:!0,xs:6,children:(0,a.jsx)(l.Qr,{name:"zipCode",control:J,render:e=>{let{field:r}=e;return(0,a.jsx)(c.Z,{...r,error:!!K.zipCode,helperText:getErrorMessage(K.zipCode),id:"zipCode",name:"zipCode",inputProps:{readOnly:!G},label:"Zip / Postal code",fullWidth:!0,variant:"standard",InputLabelProps:{shrink:!!r.value}})}})})]}),(0,a.jsx)(o.Z,{sx:{mt:5},variant:"h6",gutterBottom:!0,children:"Additional Details"}),(0,a.jsxs)(h.Z,{fullWidth:!0,margin:"normal",children:[(0,a.jsx)(p.Z,{htmlFor:"genres",children:"Genres"}),(0,a.jsx)(l.Qr,{name:"genres",control:J,defaultValue:[],render:e=>{let{field:r}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)(m.Z,{multiple:!0,value:r.value,inputProps:{readOnly:!G},fullWidth:!0,onChange:e=>r.onChange(e.target.value),error:!!K.genres,label:"Genres",children:D.map(e=>(0,a.jsx)(g.Z,{value:e,children:e},e))}),(0,a.jsx)(P.Z,{error:!!K.genres,children:getErrorMessage(K.genres)})]})}})]}),(0,a.jsxs)(h.Z,{fullWidth:!0,margin:"normal",children:[(0,a.jsx)(p.Z,{htmlFor:"favoriteCast",children:"Favorite Cast"}),(0,a.jsx)(l.Qr,{name:"favoriteCast",control:J,defaultValue:[],render:e=>{let{field:r}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)(m.Z,{multiple:!0,value:r.value,inputProps:{readOnly:!G},fullWidth:!0,onChange:e=>r.onChange(e.target.value),error:!!K.favoriteCast,label:"Favorite Casr",children:N.map(e=>(0,a.jsx)(g.Z,{value:e.id,children:e.name},e.id))}),(0,a.jsx)(P.Z,{error:!!K.favoriteCast,children:getErrorMessage(K.favoriteCast)})]})}})]}),(0,a.jsxs)(h.Z,{fullWidth:!0,margin:"normal",children:[(0,a.jsx)(p.Z,{htmlFor:"favoriteCrew",children:"Favorite Crew"}),(0,a.jsx)(l.Qr,{name:"favoriteCrew",control:J,defaultValue:[],render:e=>{let{field:r}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)(m.Z,{multiple:!0,value:r.value,fullWidth:!0,inputProps:{readOnly:!G},onChange:e=>r.onChange(e.target.value),error:!!K.favoriteCrew,label:"Favorite Crew",children:z.map(e=>(0,a.jsx)(g.Z,{value:e.id,children:e.name},e.id))}),(0,a.jsx)(P.Z,{error:!!K.favoriteCrew,children:getErrorMessage(K.favoriteCrew)})]})}})]}),(0,a.jsxs)(h.Z,{fullWidth:!0,margin:"normal",children:[(0,a.jsx)(p.Z,{htmlFor:"preferredLanguages",children:"Preferred Languages"}),(0,a.jsx)(l.Qr,{name:"preferredLanguages",control:J,defaultValue:[],render:e=>{let{field:r}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)(m.Z,{multiple:!0,value:r.value,fullWidth:!0,inputProps:{readOnly:!G},onChange:e=>r.onChange(e.target.value),error:!!K.preferredLanguages,label:"Preferred Languages",children:T.map(e=>(0,a.jsx)(g.Z,{value:e,children:e},e))}),(0,a.jsx)(P.Z,{error:!!K.preferredLanguages,children:getErrorMessage(K.preferredLanguages)})]})}})]}),G&&(0,a.jsxs)(f.Z,{sx:{display:"flex",justifyContent:"center"},children:[(0,a.jsx)(j.Z,{onClick:()=>submitData(),variant:"contained",endIcon:(0,a.jsx)(_.Z,{}),sx:{mt:2,mr:5},children:"Submit"}),(0,a.jsx)(j.Z,{onClick:()=>void(er("email",H.email),er("fullName",H.fullname),er("phoneNumber",H.mobile),er("dateOfBirth",O()(H.dob)),er("gender",H.gender),er("address1",H.address1),d(H.address1),er("address2",H.address2),er("city",H.city),er("state",H.state),er("country",H.country),er("zipCode",H.zipcode),er("preferredLanguages",H.preferred_languages[0].split(", ")),er("genres",H.genres[0].split(", ")),H.favourite_artists.length>0&&er("favoriteCast",H.favourite_artists[0].split(",")),H.favourite_crew.length>0&&er("favoriteCrew",H.favourite_crew[0].split(",")),r(null),B(H.profile_url),V(!1)),variant:"outlined",sx:{mt:2},children:"Cancel"})]})]})})})]})}},36661:function(e,r,t){"use strict";async function handleResponse(e){let r=e.headers.get("Content-Type")||"",t=r.includes("application/json"),a=t?await e.json():await e.text();if(!e.ok){if(t&&null!==a.errors)throw Error(JSON.stringify(a.errors));throw Error(a.message||e.statusText)}return a}async function getDataFromEndPoint(e,r,t){let a="http://ec2-3-101-12-15.us-west-1.compute.amazonaws.com/api/"+r,n=e instanceof FormData;if("GET"==t){let e=await fetch(a,{method:t,credentials:"include"});return handleResponse(e).then(e=>e)}let s={method:t,credentials:"include",body:e};n||(s.headers={"Content-Type":"application/json"},s.body=JSON.stringify(e));let l=await fetch(a,s);return handleResponse(l).then(e=>e)}t.d(r,{e:function(){return getDataFromEndPoint}})},16896:function(e,r,t){"use strict";var a=t(94660),n=t(74810);let s=(0,a.Ue)((0,n.tJ)(e=>({authUser:null,isLoggedIn:!1,requestLoading:!1,user:null,pincode:null,isAdmin:!1,setIsAdmin:r=>e(e=>({...e,isAdmin:r})),setUser:r=>e(e=>({...e,user:r})),setLoggedIn:()=>e(e=>({...e,isLoggedIn:!0})),setLoggedOut:()=>e(e=>({...e,isLoggedIn:!1})),setAuthUser:r=>e(e=>({...e,authUser:r})),setPinCode:r=>e(e=>({...e,pincode:r})),setRequestLoading:r=>e(e=>({...e,requestLoading:r})),reset:()=>e({authUser:null,requestLoading:!1})}),{name:"user-storage"}));r.Z=s}},function(e){e.O(0,[5094,3226,4876,5295,8874,1444,2171,8500,5594,644,5166,7827,329,9858,1518,1434,1260,4898,2971,2472,1744],function(){return e(e.s=38159)}),_N_E=e.O()}]);