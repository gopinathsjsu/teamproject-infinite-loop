(()=>{var e={};e.id=4966,e.ids=[4966],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},81796:(e,r,t)=>{"use strict";var a=t(92439);r.Z=void 0;var s=a(t(64271)),n=t(30784),i=(0,s.default)((0,n.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}),"CloudUpload");r.Z=i},36084:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var a=t(67096),s=t(16132),n=t(37284),i=t.n(n),l=t(32564),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(r,o);let d=["",{children:["signup",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,82856)),"/Users/sravankumargorati/teamproject-infinite-loop/client/src/app/signup/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,79113)),"/Users/sravankumargorati/teamproject-infinite-loop/client/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/sravankumargorati/teamproject-infinite-loop/client/src/app/signup/page.tsx"],u="/signup/page",h={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/signup/page",pathname:"/signup",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},70371:(e,r,t)=>{Promise.resolve().then(t.bind(t,25564))},25564:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>Checkout});var a=t(30784),s=t(9885),n=t.n(s),i=t(98331),l=t(79536),o=t.n(l),d=t(43872),c=t(39966),u=t.n(c),h=t(74147),m=t.n(h),p=t(52694),x=t.n(p),g=t(17292),f=t.n(g),j=t(53751),v=t.n(j),y=t(8507),C=t.n(y),b=t(56995),w=t.n(b),_=t(33987),P=t.n(_),k=t(66558),E=t(83894),F=t(19098),A=t(21971),S=t.n(A),D=t(92870),T=t.n(D),M=t(58111),N=t.n(M),z=t(97445),B=t.n(z),W=t(51892),O=t.n(W),I=t(88707),q=t.n(I),L=t(95843),Z=t.n(L),G=t(16614),U=t.n(G),R=t(71026),Q=t(64763),H=t(81796),V=t(65656);let $=F.Ry({email:F.Z_().email({message:"Invalid email address"}),fullName:F.Z_().min(1,{message:"Full name is required"}),phoneNumber:F.Z_().min(10,{message:"Invalid phone number"}),dateOfBirth:F.hT(),password:F.Z_().min(6,{message:"Password must be at least 6 characters"}),confirmPassword:F.Z_(),gender:F.Z_().min(1,{message:"Gender is required"})}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function PersonalDetailsForm({data:e,onNext:r}){let[t,n]=s.useState(null),{register:i,control:l,formState:{errors:o},getValues:c,trigger:u,setValue:h}=(0,k.cI)({resolver:(0,E.F)($)});s.useEffect(()=>{0!==Object.keys(e).length&&(h("email",e.email),h("fullName",e.fullName),h("phoneNumber",e.phoneNumber),h("dateOfBirth",e.dateOfBirth),h("password",e.password),h("gender",e.gender),h("confirmPassword",e.confirmPassword),n(e.selectedFile))},[e]);let onSubmit=async()=>{if(await u(),0==Object.keys(o).length){let e=c();e.selectedFile=t,r(e,"stepOneData")}},getErrorMessage=e=>e&&"string"==typeof e.message?e.message:"";return(0,a.jsxs)(s.Fragment,{children:[a.jsx(P(),{variant:"h6",gutterBottom:!0,children:"Personal Details"}),(0,a.jsxs)("form",{children:[(0,a.jsxs)(S(),{container:!0,spacing:3,children:[(0,a.jsxs)(S(),{item:!0,xs:12,children:[a.jsx(d.default,{sx:{display:"flex",justifyContent:"center"},children:a.jsx(Z(),{sx:{width:100,height:100},src:t?URL.createObjectURL(t):"/broken-image.jpg"})}),a.jsx(d.default,{sx:{display:"flex",justifyContent:"center",mt:1},children:(0,a.jsxs)(U(),{sx:{width:200},component:"label",variant:"contained",startIcon:a.jsx(H.Z,{}),children:["Upload file",a.jsx("input",{type:"file",hidden:!0,onChange:e=>{let r=e.target.files;if(r&&r.length>0){let e=r[0];n(e)}}})]})})]}),a.jsx(S(),{item:!0,xs:6,children:a.jsx(T(),{...i("email"),error:!!o.email,helperText:getErrorMessage(o.email),id:"email",name:"email",label:"Email ID",fullWidth:!0,variant:"standard"})}),a.jsx(S(),{item:!0,xs:6,children:a.jsx(T(),{...i("fullName"),error:!!o.fullName,helperText:getErrorMessage(o.fullName),id:"fullName",name:"fullName",label:"Full Name",fullWidth:!0,variant:"standard"})}),a.jsx(S(),{item:!0,xs:6,children:a.jsx(T(),{...i("phoneNumber"),error:!!o.phoneNumber,helperText:getErrorMessage(o.phoneNumber),id:"phoneNumber",name:"phoneNumber",label:"Phone Number",fullWidth:!0,variant:"standard"})}),a.jsx(S(),{item:!0,xs:3,children:a.jsx(Q.LocalizationProvider,{dateAdapter:V.y,children:a.jsx(k.Qr,{name:"dateOfBirth",control:l,render:({field:e})=>a.jsx(R.DatePicker,{label:"Date of Birth",...e})})})}),a.jsx(S(),{item:!0,xs:3,children:(0,a.jsxs)(N(),{fullWidth:!0,children:[a.jsx(B(),{id:"gender-label",children:"Gender"}),a.jsx(k.Qr,{name:"gender",control:l,defaultValue:"",render:({field:e})=>(console.log("Gender Controller Re-rendered"),(0,a.jsxs)(O(),{...e,labelId:"gender-label",label:"Gender",variant:"standard",error:!!o.gender,children:[a.jsx(q(),{value:"male",children:"Male"}),a.jsx(q(),{value:"female",children:"Female"}),a.jsx(q(),{value:"other",children:"Other"})]}))}),a.jsx(P(),{variant:"inherit",color:"textSecondary",children:getErrorMessage(o.gender)})]})}),a.jsx(S(),{item:!0,xs:6,children:a.jsx(T(),{...i("password"),error:!!o.password,helperText:getErrorMessage(o.password),id:"password",name:"password",label:"Password",type:"password",fullWidth:!0,variant:"standard"})}),a.jsx(S(),{item:!0,xs:6,children:a.jsx(T(),{...i("confirmPassword"),error:!!o.confirmPassword,helperText:getErrorMessage(o.confirmPassword),id:"confirmPassword",name:"confirmPassword",label:"Confirm Password",type:"password",fullWidth:!0,variant:"standard"})})]}),a.jsx(d.default,{sx:{display:"flex",justifyContent:"flex-end"},children:a.jsx(U(),{variant:"contained",sx:{mt:3,ml:1},onClick:onSubmit,children:"Next"})})]})]})}var K=t(82173),X=t(19659),Y=t(6176),J=t.n(Y),ee=t(43610),er=t.n(ee);let et=F.Ry({address1:F.Z_().min(1,{message:"Address1 is required"}),address2:F.Z_().optional(),city:F.Z_().min(1,{message:"City is required"}),state:F.Z_().min(1,{message:"State is required"}),country:F.Z_().min(1,{message:"Country is required"}),zipCode:F.Z_().min(1,{message:"Zip Code is required"})});function AddressForm({data:e,onNext:r,onBack:t}){let{register:n,trigger:i,control:l,formState:{errors:o},setValue:d,getValues:c}=(0,k.cI)({resolver:(0,E.F)(et)});s.useEffect(()=>{console.log(e),0!==Object.keys(e).length&&(d("address1",e.address1),d("address2",e.address2),d("city",e.city),d("state",e.state),d("country",e.country),d("zipCode",e.zipCode))},[e]);let[u,h]=s.useState(""),handleSelect=async e=>{let r=await (0,K.NU)(e),t=r[0].address_components,getAddressComponent=e=>t.find(r=>r.types.includes(e))?.long_name||"",a=getAddressComponent("route"),s=getAddressComponent("street_number"),n=`${s} ${a}`;h(n),d("address1",n),d("city",getAddressComponent("locality")),d("state",getAddressComponent("administrative_area_level_1")),d("country",getAddressComponent("country")),d("zipCode",getAddressComponent("postal_code"))},getErrorMessage=e=>e&&"string"==typeof e.message?e.message:"";return(0,a.jsxs)(s.Fragment,{children:[a.jsx(P(),{variant:"h6",gutterBottom:!0,children:"Address Details"}),(0,a.jsxs)("form",{children:[(0,a.jsxs)(S(),{container:!0,spacing:3,children:[a.jsx(S(),{item:!0,xs:6,children:a.jsx(K.ZP,{value:u,onChange:h,onSelect:handleSelect,children:({getInputProps:e,suggestions:r,getSuggestionItemProps:t,loading:n})=>(0,a.jsxs)(X.Box,{children:[a.jsx(T(),{...e({label:"Address1"}),variant:"standard",fullWidth:!0,error:!!o.address1,helperText:getErrorMessage(o.address1)}),n&&a.jsx("div",{children:"Loading..."}),a.jsx(J(),{sx:{position:"absolute",zIndex:1,width:"100%"},children:r.map(e=>(0,s.createElement)(er(),{...t(e),sx:{backgroundColor:e.active?"#b9d2fa":"#ffffff",cursor:"pointer"},key:e.placeId},e.description))})]})})}),a.jsx(S(),{item:!0,xs:6,children:a.jsx(T(),{...n("address2"),error:!!o.address2,helperText:getErrorMessage(o.address2),id:"address2",name:"address2",label:"Address line 2",fullWidth:!0,variant:"standard"})}),a.jsx(S(),{item:!0,xs:6,children:a.jsx(k.Qr,{name:"city",control:l,render:({field:e})=>a.jsx(T(),{...e,error:!!o.city,helperText:getErrorMessage(o.city),id:"city",name:"city",label:"City",fullWidth:!0,variant:"standard",InputLabelProps:{shrink:!!e.value}})})}),a.jsx(S(),{item:!0,xs:6,children:a.jsx(k.Qr,{name:"state",control:l,render:({field:e})=>a.jsx(T(),{...e,error:!!o.state,helperText:getErrorMessage(o.state),id:"state",name:"state",label:"State/Province/Region",fullWidth:!0,variant:"standard",InputLabelProps:{shrink:!!e.value}})})}),a.jsx(S(),{item:!0,xs:6,children:a.jsx(k.Qr,{name:"country",control:l,render:({field:e})=>a.jsx(T(),{...e,error:!!o.country,helperText:getErrorMessage(o.country),id:"country",name:"country",label:"Country",fullWidth:!0,variant:"standard",InputLabelProps:{shrink:!!e.value}})})}),a.jsx(S(),{item:!0,xs:6,children:a.jsx(k.Qr,{name:"zipCode",control:l,render:({field:e})=>a.jsx(T(),{...e,error:!!o.zipCode,helperText:getErrorMessage(o.zipCode),id:"zipCode",name:"zipCode",label:"Zip / Postal code",fullWidth:!0,variant:"standard",InputLabelProps:{shrink:!!e.value}})})})]}),(0,a.jsxs)(X.Box,{sx:{display:"flex",justifyContent:"flex-end"},children:[a.jsx(U(),{variant:"outlined",sx:{mt:3,ml:1},onClick:()=>{t(c(),"stepTwoData")},children:"Back"}),a.jsx(U(),{variant:"contained",sx:{mt:3,ml:1},onClick:()=>{i(),0==Object.keys(o).length&&(console.log(c()),r(c(),"stepTwoData"))},children:"Next"})]})]})]})}var ea=t(34550),es=t.n(ea),en=t(15050);let ei=F.z.object({genres:F.z.array(F.z.string()).nonempty("Select atleast one genre"),favoriteCast:F.z.array(F.z.string()).nonempty("Select atleast one artist"),favoriteCrew:F.z.array(F.z.string()).nonempty("Select atleast one crew"),preferredLanguages:F.z.array(F.z.string()).nonempty("Select atleast one language")}),el=["Action","Drama","Comedy","Science Fiction","Horror","Romance","Fantasy","Thriller","Adventure","Mystery"],eo=["English","Spanish","French","German","Mandarin Chinese","Hindi","Japanese","Korean","Italian","Russian","Portuguese","Arabic","Turkish","Persian","Swedish","Danish","Norwegian","Finnish","Dutch","Greek","Polish","Hungarian","Czech","Thai","Hebrew","Tamil","Telugu","Bengali"],signup_AdditionalDetailsForm=({data:e,onNext:r,onBack:t})=>{let{control:i,formState:{errors:l},trigger:o,getValues:c,setValue:u}=(0,k.cI)({resolver:(0,E.F)(ei)}),[h,m]=(0,s.useState)([]),[p,x]=(0,s.useState)([]);n().useEffect(()=>{0!==Object.keys(e).length&&(u("genres",e.genres),u("favoriteCast",e.favoriteCast),u("favoriteCrew",e.favoriteCrew),u("preferredLanguages",e.preferredLanguages));let fetchData=async()=>{try{let e=await (0,en.e)("","artist/all","GET");x(e.Crew),m(e.Cast),console.log(e)}catch(e){console.error("Failed to fetch data:",e)}};fetchData()},[]);let getErrorMessage=e=>e&&"string"==typeof e.message?e.message:"";return(0,a.jsxs)("form",{children:[a.jsx(P(),{variant:"h6",gutterBottom:!0,children:"Additional Details"}),(0,a.jsxs)(N(),{fullWidth:!0,margin:"normal",children:[a.jsx(B(),{htmlFor:"genres",children:"Genres"}),a.jsx(k.Qr,{name:"genres",control:i,defaultValue:[],render:({field:e})=>(0,a.jsxs)("div",{children:[a.jsx(O(),{multiple:!0,value:e.value,fullWidth:!0,onChange:r=>e.onChange(r.target.value),error:!!l.genres,label:"Genres",children:el.map(e=>a.jsx(q(),{value:e,children:e},e))}),a.jsx(es(),{error:!!l.genres,children:getErrorMessage(l.genres)})]})})]}),(0,a.jsxs)(N(),{fullWidth:!0,margin:"normal",children:[a.jsx(B(),{htmlFor:"favoriteCast",children:"Favorite Cast"}),a.jsx(k.Qr,{name:"favoriteCast",control:i,defaultValue:[],render:({field:e})=>(0,a.jsxs)("div",{children:[a.jsx(O(),{multiple:!0,value:e.value,fullWidth:!0,onChange:r=>e.onChange(r.target.value),error:!!l.favoriteCast,label:"Favorite Casr",children:h.map(e=>a.jsx(q(),{value:e.id,children:e.name},e.id))}),a.jsx(es(),{error:!!l.favoriteCast,children:getErrorMessage(l.favoriteCast)})]})})]}),(0,a.jsxs)(N(),{fullWidth:!0,margin:"normal",children:[a.jsx(B(),{htmlFor:"favoriteCrew",children:"Favorite Crew"}),a.jsx(k.Qr,{name:"favoriteCrew",control:i,defaultValue:[],render:({field:e})=>(0,a.jsxs)("div",{children:[a.jsx(O(),{multiple:!0,value:e.value,fullWidth:!0,onChange:r=>e.onChange(r.target.value),error:!!l.favoriteCrew,label:"Favorite Crew",children:p.map(e=>a.jsx(q(),{value:e.id,children:e.name},e.id))}),a.jsx(es(),{error:!!l.favoriteCrew,children:getErrorMessage(l.favoriteCrew)})]})})]}),(0,a.jsxs)(N(),{fullWidth:!0,margin:"normal",children:[a.jsx(B(),{htmlFor:"preferredLanguages",children:"Preferred Languages"}),a.jsx(k.Qr,{name:"preferredLanguages",control:i,defaultValue:[],render:({field:e})=>(0,a.jsxs)("div",{children:[a.jsx(O(),{multiple:!0,value:e.value,fullWidth:!0,onChange:r=>e.onChange(r.target.value),error:!!l.preferredLanguages,label:"Preferred Languages",children:eo.map(e=>a.jsx(q(),{value:e,children:e},e))}),a.jsx(es(),{error:!!l.preferredLanguages,children:getErrorMessage(l.preferredLanguages)})]})})]}),(0,a.jsxs)(d.default,{sx:{display:"flex",justifyContent:"flex-end"},children:[a.jsx(U(),{variant:"outlined",sx:{mt:3,ml:1},onClick:()=>{t(c(),"stepThreeData")},children:"Back"}),a.jsx(U(),{variant:"contained",sx:{mt:3,ml:1},onClick:()=>{o(),0==Object.keys(l).length&&(console.log(c()),r(c(),"stepThreeData"))},children:"Sign In"})]})]})};var ed=t(51949),ec=t.n(ed),eu=t(57114);function Copyright(){return(0,a.jsxs)(P(),{variant:"body2",color:"text.secondary",align:"center",children:["Copyright \xa9 ",a.jsx(w(),{color:"inherit",href:"https://mui.com/",children:"Box Office"})," ",new Date().getFullYear(),"."]})}let eh=["Personal Details","Address","Additional Information"];function Checkout(){let[e,r]=s.useState(0),t=(0,eu.useRouter)(),[n,l]=s.useState({stepOneData:{},stepTwoData:{},stepThreeData:{}});async function submitSignIn(){let e=new FormData;Object.entries(n).forEach(([r,t])=>{Object.entries(t).forEach(([r,t])=>{"selectedFile"==r?e.append("file",t):Array.isArray(t)?e.append(r,t.join(", ")):e.append(r,t)})});let r=await (0,en.e)(e,"user/signup","POST");null!=r&&(console.log("success"),t.push("/signin"))}let handleNext=(t,a)=>{if(l(e=>({...e,[a]:t})),e==eh.length-1){submitSignIn();return}r(e+1)},handleBack=(t,a)=>{l(e=>({...e,[a]:t})),r(e-1)};return(0,a.jsxs)(s.Fragment,{children:[a.jsx(ec(),{src:"https://maps.googleapis.com/maps/api/js?key=AIzaSyAH_4KikoUaqV41Fq09gBEsXzADYU1xM8w&libraries=places",strategy:"beforeInteractive"}),a.jsx(i.Z,{}),a.jsx(o(),{position:"absolute",color:"default",elevation:0,sx:{position:"relative",borderBottom:e=>`1px solid ${e.palette.divider}`},children:a.jsx(m(),{children:a.jsx(P(),{variant:"h6",color:"inherit",noWrap:!0,children:"Box Office"})})}),(0,a.jsxs)(u(),{component:"main",maxWidth:"lg",sx:{mb:4},children:[(0,a.jsxs)(x(),{variant:"outlined",sx:{my:{xs:3,md:6},p:{xs:2,md:3}},children:[a.jsx(P(),{component:"h1",variant:"h4",align:"center",children:"Sign Up"}),a.jsx(f(),{activeStep:e,sx:{pt:3,pb:5},children:eh.map(e=>a.jsx(v(),{children:a.jsx(C(),{children:e})},e))}),e===eh.length?(0,a.jsxs)(s.Fragment,{children:[a.jsx(P(),{variant:"h5",gutterBottom:!0,children:"Success!!"}),a.jsx(P(),{variant:"subtitle1",children:"LogIn to enjoy movies"})]}):(0,a.jsxs)(s.Fragment,{children:[function(e){switch(e){case 0:return a.jsx(PersonalDetailsForm,{data:n.stepOneData,onNext:handleNext});case 1:return a.jsx(AddressForm,{data:n.stepTwoData,onNext:handleNext,onBack:handleBack});case 2:return a.jsx(signup_AdditionalDetailsForm,{data:n.stepThreeData,onNext:handleNext,onBack:handleBack});default:throw Error("Unknown step")}}(e),a.jsx(d.default,{sx:{display:"flex",justifyContent:"flex-end"}})]})]}),a.jsx(Copyright,{})]})]})}},82856:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});var a=t(95153);let s=(0,a.createProxy)(String.raw`/Users/sravankumargorati/teamproject-infinite-loop/client/src/app/signup/page.tsx`),{__esModule:n,$$typeof:i}=s,l=s.default,o=l},73881:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var a=t(31323);let __WEBPACK_DEFAULT_EXPORT__=e=>{let r=(0,a.fillMetadataSegment)(".",e.params,"favicon.ico");return[{type:"image/x-icon",sizes:"16x16",url:r+""}]}}};var r=require("../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[2958,1323,938,1276,7136,3508],()=>__webpack_exec__(36084));module.exports=t})();