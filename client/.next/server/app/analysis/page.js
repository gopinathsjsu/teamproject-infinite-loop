(()=>{var e={};e.id=2490,e.ids=[2490],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},93949:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c});var s=a(67096),i=a(16132),r=a(37284),n=a.n(r),l=a(32564),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let c=["",{children:["analysis",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,24219)),"/Users/sravankumargorati/teamproject-infinite-loop/client/src/app/analysis/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,79113)),"/Users/sravankumargorati/teamproject-infinite-loop/client/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/sravankumargorati/teamproject-infinite-loop/client/src/app/analysis/page.tsx"],u="/analysis/page",p={require:a,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/analysis/page",pathname:"/analysis",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},27426:(e,t,a)=>{Promise.resolve().then(a.bind(a,10163))},10163:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>BarsDataset});var s=a(30784),i=a(9885),r=a(21809),n=a(12218),l=a(19659),o=a(21971),c=a.n(o),d=a(33987),u=a.n(d),p=a(80676),h=a.n(p),x=a(92870),m=a.n(x),f=a(87843),g=a(98153),v=a(58111),y=a.n(v),j=a(51892),_=a.n(j),b=a(88707),P=a.n(b),E=a(30955),w=a(15050);let movieDay=()=>{let[e,t]=(0,i.useState)([]),[a,r]=(0,i.useState)(""),[n,l]=(0,i.useState)([]),[o,c]=(0,i.useState)([]);return(0,i.useEffect)(()=>{let fetchMovieData=async()=>{try{let e=await (0,w.e)("","movie/all","GET");t(e.movies),e.movies.length>0&&r(e.movies[0].id)}catch(e){console.error("Error fetching movie data:",e)}};fetchMovieData()},[]),(0,i.useEffect)(()=>{let fetchOccupancyData=async()=>{try{if(a.length>0){let e=await (0,w.e)("",`movie/getMovieOccupancyDayWise/${a}`,"GET");c(e.data);let t=[];for(let a=0;a<e.data.length;a++)t.push(a+1);l(t)}}catch(e){console.error("Error fetching occupancy data:",e)}};fetchOccupancyData()},[a]),(0,s.jsxs)("div",{children:[s.jsx(y(),{fullWidth:!0,children:s.jsx(_(),{value:a,onChange:e=>{let t=e.target.value;r(t)},displayEmpty:!0,inputProps:{"aria-label":"Without label"},children:e.map(e=>s.jsx(P(),{value:e.id,children:e.title},e.id))})}),0!=n.length&&o.length>0&&s.jsx(E.w,{xAxis:[{data:n}],series:[{data:o}],width:500,height:300})]})},T={width:500,height:300,sx:{[`.${n.x.left} .${n.x.label}`]:{transform:"translate(-20px, 0)"}}},k={width:400,height:300};function BarsDataset(){let[e,t]=i.useState([]),[a,n]=i.useState([]),[o,d]=i.useState([]),[p,x]=i.useState(null),[v,y]=i.useState([]),[j,_]=i.useState([]),[b,P]=i.useState([]),[E,D]=i.useState(null);return i.useEffect(()=>{let fetchMovies=async()=>{try{let e=await (0,w.e)("","movie/all","GET");t(e.movies),x(e.movies[0].id),y([]),_([])}catch(e){console.error("Failed to fetch data:",e)}},fetchPieData=async()=>{try{let e=await (0,w.e)("","screen/getTicketsBookedInTheaters","GET"),t=e.data.filter(e=>0!=e.value),a=e.data.map(e=>e.value).reduce((e,t)=>e+t,0);D(a),P(t)}catch(e){console.error("Failed to fetch data:",e)}};fetchMovies(),fetchPieData()},[]),i.useEffect(()=>{let fetchData=async()=>{try{let e=await (0,w.e)("",`screen/getTicketsBoughtByTheatersLocation/${p}`,"GET"),t=e.data;d(t),n(Object.keys(t))}catch(e){console.error("Failed to fetch data:",e)}};null!=p&&fetchData()},[p]),(0,s.jsxs)(l.Box,{sx:{ml:10,mt:5},children:[(0,s.jsxs)(c(),{spacing:2,container:!0,children:[(0,s.jsxs)(c(),{item:!0,xs:6,children:[s.jsx(u(),{variant:"h4",children:"Movie vs Location vs Theater"}),(0,s.jsxs)(c(),{item:!0,xs:12,sx:{display:"flex"},children:[s.jsx(c(),{item:!0,xs:6,children:s.jsx(h(),{disableClearable:!0,options:e,getOptionLabel:e=>e.title,onChange:(e,t)=>{x(t?t.id:"")},sx:{mr:2,width:"90%"},renderInput:e=>s.jsx(m(),{...e,label:"Movie"})})}),s.jsx(c(),{item:!0,xs:6,children:s.jsx(h(),{disableClearable:!0,options:a,getOptionLabel:e=>e,sx:{width:"90%"},onChange:(e,t)=>{if(t){y(Object.keys(o[t]));let e=Object.keys(o[t]).map(e=>o[t][e]);_(e)}},renderInput:e=>s.jsx(m(),{...e,label:"City"})})})]}),s.jsx(c(),{item:!0,xs:12,children:0!==v.length&&0!==j.length&&s.jsx(r.v,{xAxis:[{scaleType:"band",data:v}],series:[{data:j}],...T})})]}),(0,s.jsxs)(c(),{item:!0,xs:6,children:[s.jsx(u(),{variant:"h4",children:"Theaters Booking"}),s.jsx(c(),{item:!0,xs:12,sx:{display:"flex",justifyContent:"center"},children:0!=b.length&&s.jsx(f.u,{margin:{top:20,left:10,right:400},series:[{outerRadius:80,data:b,arcLabel:e=>{let t=e.value/E;return`${(100*t).toFixed(0)}%`}}],slotProps:{legend:{direction:"column",position:{vertical:"middle",horizontal:"right"},padding:0}},sx:{[`& .${g.KT.root}`]:{fill:"white",fontSize:14}},...k})})]})]}),(0,s.jsxs)(c(),{sx:{display:"flex",justifyContent:"center"},spacing:2,container:!0,children:[s.jsx(u(),{variant:"h4",children:"Movie vs Date Booking"}),s.jsx(c(),{item:!0,xs:12,sx:{display:"flex",justifyContent:"center"},children:s.jsx(movieDay,{})})]})]})}},24219:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>r,default:()=>o});var s=a(95153);let i=(0,s.createProxy)(String.raw`/Users/sravankumargorati/teamproject-infinite-loop/client/src/app/analysis/page.tsx`),{__esModule:r,$$typeof:n}=i,l=i.default,o=l},73881:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var s=a(31323);let __WEBPACK_DEFAULT_EXPORT__=e=>{let t=(0,s.fillMetadataSegment)(".",e.params,"favicon.ico");return[{type:"image/x-icon",sizes:"16x16",url:t+""}]}}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[2958,1323,3534,3508],()=>__webpack_exec__(93949));module.exports=a})();