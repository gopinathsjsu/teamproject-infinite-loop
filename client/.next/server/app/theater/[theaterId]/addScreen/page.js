(()=>{var e={};e.id=8801,e.ids=[8801],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},78031:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>c});var s=r(67096),a=r(16132),n=r(37284),i=r.n(n),o=r(32564),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["theater",{children:["[theaterId]",{children:["addScreen",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,37535)),"/Users/sravankumargorati/teamproject-infinite-loop/client/src/app/theater/[theaterId]/addScreen/page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,79113)),"/Users/sravankumargorati/teamproject-infinite-loop/client/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/sravankumargorati/teamproject-infinite-loop/client/src/app/theater/[theaterId]/addScreen/page.tsx"],m="/theater/[theaterId]/addScreen/page",u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/theater/[theaterId]/addScreen/page",pathname:"/theater/[theaterId]/addScreen",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},83062:(e,t,r)=>{Promise.resolve().then(r.bind(r,14100))},14100:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>AddScreen});var s=r(30784),a=r(9885),n=r.n(a),i=r(57114),o=r(66558),l=r(83894),c=r(19098),d=r(15050),m=r(98331),u=r(39966),p=r.n(u),x=r(43872),h=r(33987),g=r.n(h),_=r(21971),j=r.n(_),f=r(92870),C=r.n(f),S=r(58111),v=r.n(S),b=r(97445),y=r.n(b),N=r(51892),P=r.n(N),k=r(88707),w=r.n(k),z=r(34550),B=r.n(z),E=r(16614),F=r.n(E),q=r(97870),I=r.n(q);let M=c.Ry({screenName:c.Z_().min(1,"Screen Name is required"),timing:c.IX(c.Z_()).min(1,"Select at least one timing"),format:c.Z_().min(1,"Format is required")}),T={rows:20,cols:6,seats:{A:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],C:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],D:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],E:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],F:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],G:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}};function AddScreen(){let e=(0,i.useRouter)(),[t,r]=(0,a.useState)(T?.seats||{}),{theaterId:c}=(0,i.useParams)(),[u,h]=(0,a.useState)(T?.rows||0),[_,f]=(0,a.useState)(T?.cols||0),[S,b]=(0,a.useState)(!1);(0,a.useEffect)(()=>{clearSelectedSeats()},[]),(0,a.useEffect)(()=>{handleSeatSubmit()},[u,_]);let handleSeatSubmit=()=>{let e,s={};for(let r=0;r<_;r++){if(r<26)e=String.fromCharCode(65+r);else{let t=String.fromCharCode(64+r/25);e=`${t}${String.fromCharCode(64+r%25)}`}s[e]=Array(u).fill(0).map((r,s)=>t&&t[e]&&t[e][s]?t[e][s]:0)}console.log(t),r(s)},clearSelectedSeats=()=>{let e={...t};for(let e in t)t[e].forEach((r,s)=>{2===r&&(t[e][s]=0)});return e},changeEditable=()=>{b(!S)},onSeatClick=(e,s,a)=>{if(t){if(1===e)return;0===e?t[a][s]=3:t[a][s]=0}r({...t})},getClassNameForSeats=e=>{let t;return t=0===e?I().seatNotBooked:1===e?I().seatBooked:2===e?I().seatSelected:I().seatBlocked,`${I().seats} ${t}`},{handleSubmit:N,control:k,formState:{errors:z}}=(0,o.cI)({resolver:(0,l.F)(M)}),getErrorMessage=e=>e&&"string"==typeof e.message?e.message:"";async function onSubmit(r){e.push("/theater/"+c+"/screens/"),r.rows=u,r.col=_,r.seats=t,r.theater_id=c;let s="screen/addScreen";console.log(s);try{await (0,d.e)(r,s,"POST")}catch(e){console.log(e)}}return(0,s.jsxs)(n().Fragment,{children:[s.jsx(m.Z,{}),(0,s.jsxs)(p(),{maxWidth:"xl",style:{marginLeft:"0px",marginRight:"0px",marginTop:"6%"},children:[(0,s.jsxs)("form",{action:"/screen/addScreen",onSubmit:N(onSubmit),children:[s.jsx(x.default,{sx:{display:"flex",justifyContent:"center"},children:s.jsx(g(),{variant:"h4",children:"Add New Screen"})}),(0,s.jsxs)(j(),{container:!0,spacing:2,children:[s.jsx(j(),{item:!0,xs:12,md:12,lg:4,children:s.jsx(o.Qr,{name:"screenName",control:k,defaultValue:"",render:({field:e})=>s.jsx(C(),{...e,label:"Screen Name",error:!!z.screenName,helperText:getErrorMessage(z.screenName),fullWidth:!0,margin:"normal"})})}),s.jsx(j(),{item:!0,xs:12,md:12,lg:4,children:s.jsx(o.Qr,{name:"timing",control:k,defaultValue:[],render:({field:e})=>(0,s.jsxs)(v(),{fullWidth:!0,margin:"normal",error:!!z.timing,children:[s.jsx(y(),{children:"Timing"}),s.jsx(P(),{...e,multiple:!0,label:"Timing",children:["9:00 am","1:00 pm","6:00 pm","10:00 pm"].map(e=>s.jsx(w(),{value:e,children:e},e))}),s.jsx(B(),{id:"component-error-text",children:getErrorMessage(z.timing)})]})})}),s.jsx(j(),{item:!0,xs:12,md:12,lg:4,children:s.jsx(o.Qr,{name:"format",control:k,defaultValue:"",render:({field:e})=>(0,s.jsxs)(v(),{fullWidth:!0,margin:"normal",error:!!z.format,children:[s.jsx(y(),{children:"Format"}),s.jsx(P(),{...e,label:"Format",children:["2D","3D"].map(e=>s.jsx(w(),{value:e,children:e},e))}),s.jsx(B(),{id:"component-error-text",children:getErrorMessage(z.format)})]})})})]}),s.jsx(j(),{sx:{flexGrow:1},container:!0,spacing:2,children:s.jsx(j(),{item:!0,xs:12,lg:12,children:(0,s.jsxs)(j(),{container:!0,justifyContent:"center",spacing:2,children:[s.jsx(j(),{item:!0,xs:12,md:12,lg:4,children:s.jsx(C(),{disabled:!S,InputProps:{inputProps:{min:5,max:25}},value:u,onChange:e=>h(parseInt(e.target.value)||0),type:"number",label:"Rows",error:!!z.rows,helperText:getErrorMessage(z.rows),fullWidth:!0})}),s.jsx(j(),{item:!0,xs:12,md:12,lg:4,children:s.jsx(C(),{disabled:!S,InputProps:{inputProps:{min:5,max:12}},value:_,onChange:e=>f(parseInt(e.target.value)||0),type:"number",label:"Columns",error:!!z.columns,helperText:getErrorMessage(z.columns),fullWidth:!0})})]})})}),s.jsx(j(),{sx:{flexGrow:1},container:!0,spacing:2,children:s.jsx(j(),{item:!0,xs:12,lg:12,children:s.jsx(j(),{container:!0,justifyContent:"center",spacing:2,children:S?s.jsx(x.default,{gap:2,my:4,children:s.jsx(F(),{variant:"contained",onClick:changeEditable,children:"Show Preview"})}):(0,s.jsxs)(x.default,{gap:2,my:4,children:[s.jsx(F(),{style:{marginRight:"5px"},variant:"outlined",onClick:changeEditable,children:"Edit Layout"}),s.jsx(F(),{variant:"contained",type:"submit",children:"Submit"})]})})})})]}),s.jsx(s.Fragment,{children:(0,s.jsxs)("div",{className:I().seatsContainer,children:[(0,s.jsxs)("p",{className:I().header,children:["Select Seats to be ",s.jsx("b",{className:I().headerBlockedText,children:"Removed"})]}),t&&S&&s.jsx(()=>{let e=[];for(let r in t){let a=t[r].map((e,a)=>(0,s.jsxs)("span",{className:I().seatsHolder,children:[0===a&&s.jsx("span",{className:I().colName,children:r}),s.jsx("span",{className:getClassNameForSeats(e),onClick:()=>onSeatClick(e,a,r),children:a+1}),t&&a===t[r].length-1&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("br",{}),s.jsx("br",{})]})]},`${r}.${a}`));e.push(a)}return s.jsx("div",{className:I().seatsLeafContainer,children:e})},{}),t&&!S&&s.jsx(()=>{let e=[];for(let r in t){let a=0,n=t[r].map((e,n)=>(0,s.jsxs)("span",{className:I().seatsHolder,children:[0===n&&s.jsx("span",{className:I().colName,children:r}),3!==e?s.jsx("span",{className:getClassNameForSeats(e),children:a+=1}):s.jsx("span",{className:getClassNameForSeats(1),children:n+1}),t&&n===t[r].length-1&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("br",{}),s.jsx("br",{})]})]},`${r}.${n}`));e.push(n)}return s.jsx("div",{className:I().seatsLeafContainer,children:e})},{}),s.jsx("div",{className:I().cont_screen,children:s.jsx("div",{className:I().screen})})]})})]})]})}},97870:e=>{e.exports={seatsContainer:"Customize_seatsContainer__ClRBP",seatsHolder:"Customize_seatsHolder__TgBnR",seatsLeafContainer:"Customize_seatsLeafContainer__98f_0",seats:"Customize_seats__85rE3",colName:"Customize_colName__O7gSL",seatSelected0:"Customize_seatSelected0__NFCg_",seatBooked:"Customize_seatBooked__phi0h",seatSelected:"Customize_seatSelected__yjdM2",seatBlocked:"Customize_seatBlocked__sgK9H",paymentButton:"Customize_paymentButton___oUZC",paymentButtonContainer:"Customize_paymentButtonContainer__jl8ZK",inputContainer:"Customize_inputContainer__CKnpW",inputHolder:"Customize_inputHolder__iN2uj",inputField:"Customize_inputField__Ho7rQ",saveSetUpButton:"Customize_saveSetUpButton__CYnaD",header:"Customize_header__SsfQS",headerBlockedText:"Customize_headerBlockedText__mZ8j1",cont_screen:"Customize_cont_screen__PHJgJ",screen:"Customize_screen__MXuqH"}},37535:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var s=r(95153);let a=(0,s.createProxy)(String.raw`/Users/sravankumargorati/teamproject-infinite-loop/client/src/app/theater/[theaterId]/addScreen/page.tsx`),{__esModule:n,$$typeof:i}=a,o=a.default,l=o}};var t=require("../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[1418,1323,1971,6408,3508,3852],()=>__webpack_exec__(78031));module.exports=r})();