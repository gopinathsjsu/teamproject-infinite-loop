(()=>{var e={};e.id=8801,e.ids=[8801],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},78031:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>c});var s=t(67096),a=t(16132),n=t(37284),i=t.n(n),l=t(32564),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(r,o);let c=["",{children:["theater",{children:["[theaterId]",{children:["addScreen",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,37535)),"/Users/sravankumargorati/teamproject-infinite-loop/client/src/app/theater/[theaterId]/addScreen/page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,79113)),"/Users/sravankumargorati/teamproject-infinite-loop/client/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/sravankumargorati/teamproject-infinite-loop/client/src/app/theater/[theaterId]/addScreen/page.tsx"],m="/theater/[theaterId]/addScreen/page",x={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/theater/[theaterId]/addScreen/page",pathname:"/theater/[theaterId]/addScreen",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},83062:(e,r,t)=>{Promise.resolve().then(t.bind(t,14100))},14100:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>AddScreen});var s=t(30784),a=t(9885),n=t.n(a),i=t(57114),l=t(66558),o=t(83894),c=t(19098),d=t(15050),m=t(98331),x=t(39966),p=t.n(x),h=t(43872),u=t(33987),g=t.n(u),j=t(21971),f=t.n(j),S=t(92870),v=t.n(S),b=t(58111),_=t.n(b),N=t(97445),y=t.n(N),C=t(51892),P=t.n(C),w=t(88707),E=t.n(w),k=t(34550),q=t.n(k),F=t(16614),I=t.n(F),M=t(97870),$=t.n(M);let A=c.Ry({screenName:c.Z_().min(1,"Screen Name is required"),timing:c.IX(c.Z_()).min(1,"Select at least one timing"),format:c.Z_().min(1,"Format is required")}),G={rows:20,cols:6,seats:{A:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],C:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],D:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],E:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],F:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],G:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}};function AddScreen(){let e=(0,i.useRouter)(),[r,t]=(0,a.useState)(G?.seats||{}),{theaterId:c}=(0,i.useParams)(),[x,u]=(0,a.useState)(G?.rows||0),[j,S]=(0,a.useState)(G?.cols||0),[b,N]=(0,a.useState)(!1);(0,a.useEffect)(()=>{clearSelectedSeats()},[]),(0,a.useEffect)(()=>{handleSeatSubmit()},[x,j]);let handleSeatSubmit=()=>{let e,s={};for(let t=0;t<j;t++){if(t<26)e=String.fromCharCode(65+t);else{let r=String.fromCharCode(64+t/25);e=`${r}${String.fromCharCode(64+t%25)}`}s[e]=Array(x).fill(0).map((t,s)=>r&&r[e]&&r[e][s]?r[e][s]:0)}console.log(r),t(s)},clearSelectedSeats=()=>{let e={...r};for(let e in r)r[e].forEach((t,s)=>{3===t&&(r[e][s]=0)});return e},changeEditable=()=>{N(!b)},onSeatClick=(e,s,a)=>{if(r){if(1===e)return;0===e?r[a][s]=3:r[a][s]=0}t({...r})},getClassNameForSeats=e=>{let r;return r=0===e?$().seatNotBooked:1===e?$().seatBooked:2===e?$().seatSelected:$().seatBlocked,`${$().seats} ${r}`},{handleSubmit:C,control:w,formState:{errors:k}}=(0,l.cI)({resolver:(0,o.F)(A)}),getErrorMessage=e=>e&&"string"==typeof e.message?e.message:"";async function onSubmit(t){e.push("/theater/"+c+"/screens/"),t.rows=x,t.col=j,t.seats=r,t.theater_id=c;let s="screen/addScreen";console.log(s);try{await (0,d.e)(t,s,"POST")}catch(e){console.log(e)}}return(0,s.jsxs)(n().Fragment,{children:[s.jsx(m.Z,{}),(0,s.jsxs)(p(),{maxWidth:"xl",style:{marginLeft:"0px",marginRight:"0px",marginTop:"6%"},children:[(0,s.jsxs)("form",{action:"/screen/addScreen",onSubmit:C(onSubmit),children:[s.jsx(h.default,{sx:{display:"flex",justifyContent:"center"},children:s.jsx(g(),{variant:"h4",children:"Add New Screen"})}),(0,s.jsxs)(f(),{container:!0,spacing:2,children:[s.jsx(f(),{item:!0,xs:12,md:12,lg:4,children:s.jsx(l.Qr,{name:"screenName",control:w,defaultValue:"",render:({field:e})=>s.jsx(v(),{...e,label:"Screen Name",error:!!k.screenName,helperText:getErrorMessage(k.screenName),fullWidth:!0,margin:"normal"})})}),s.jsx(f(),{item:!0,xs:12,md:12,lg:4,children:s.jsx(l.Qr,{name:"timing",control:w,defaultValue:[],render:({field:e})=>(0,s.jsxs)(_(),{fullWidth:!0,margin:"normal",error:!!k.timing,children:[s.jsx(y(),{children:"Timing"}),s.jsx(P(),{...e,multiple:!0,label:"Timing",children:["9:00 am","1:00 pm","6:00 pm","10:00 pm"].map(e=>s.jsx(E(),{value:e,children:e},e))}),s.jsx(q(),{id:"component-error-text",children:getErrorMessage(k.timing)})]})})}),s.jsx(f(),{item:!0,xs:12,md:12,lg:4,children:s.jsx(l.Qr,{name:"format",control:w,defaultValue:"",render:({field:e})=>(0,s.jsxs)(_(),{fullWidth:!0,margin:"normal",error:!!k.format,children:[s.jsx(y(),{children:"Format"}),s.jsx(P(),{...e,label:"Format",children:["2D","3D"].map(e=>s.jsx(E(),{value:e,children:e},e))}),s.jsx(q(),{id:"component-error-text",children:getErrorMessage(k.format)})]})})})]}),s.jsx(f(),{sx:{flexGrow:1},container:!0,spacing:2,children:s.jsx(f(),{item:!0,xs:12,lg:12,children:(0,s.jsxs)(f(),{container:!0,justifyContent:"center",spacing:2,children:[s.jsx(f(),{item:!0,xs:12,md:12,lg:4,children:s.jsx(v(),{disabled:!b,InputProps:{inputProps:{min:5,max:25}},value:x,onChange:e=>u(parseInt(e.target.value)||0),type:"number",label:"Rows",error:!!k.rows,helperText:getErrorMessage(k.rows),fullWidth:!0})}),s.jsx(f(),{item:!0,xs:12,md:12,lg:4,children:s.jsx(v(),{disabled:!b,InputProps:{inputProps:{min:5,max:12}},value:j,onChange:e=>S(parseInt(e.target.value)||0),type:"number",label:"Columns",error:!!k.columns,helperText:getErrorMessage(k.columns),fullWidth:!0})})]})})}),s.jsx(f(),{sx:{flexGrow:1},container:!0,spacing:2,children:s.jsx(f(),{item:!0,xs:12,lg:12,children:s.jsx(f(),{container:!0,justifyContent:"center",spacing:2,children:b?(0,s.jsxs)(h.default,{gap:2,my:4,children:[s.jsx(I(),{variant:"contained",onClick:changeEditable,children:"Show Preview"}),s.jsx(I(),{variant:"outlined",onClick:clearSelectedSeats,children:"Reset Layout"})]}):(0,s.jsxs)(h.default,{gap:2,my:4,children:[s.jsx(I(),{style:{marginRight:"5px"},variant:"outlined",onClick:changeEditable,children:"Edit Layout"}),s.jsx(I(),{variant:"contained",type:"submit",children:"Submit"})]})})})})]}),s.jsx(s.Fragment,{children:(0,s.jsxs)("div",{className:$().seatsContainer,children:[(0,s.jsxs)("p",{className:$().header,children:["Select Seats to be ",s.jsx("b",{className:$().headerBlockedText,children:"Removed"})]}),r&&b&&s.jsx(()=>{let e=[];for(let t in r){let a=r[t].map((e,a)=>(0,s.jsxs)("span",{className:$().seatsHolder,children:[0===a&&s.jsx("span",{className:$().colName,children:t}),s.jsx("span",{className:getClassNameForSeats(e),onClick:()=>onSeatClick(e,a,t),children:a+1}),r&&a===r[t].length-1&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("br",{}),s.jsx("br",{})]})]},`${t}.${a}`));e.push(a)}return s.jsx("div",{className:$().seatsLeafContainer,children:e})},{}),r&&!b&&s.jsx(()=>{let e=[];for(let t in r){let a=0,n=r[t].map((e,n)=>(0,s.jsxs)("span",{className:$().seatsHolder,children:[0===n&&s.jsx("span",{className:$().colName,children:t}),3!==e?s.jsx("span",{className:getClassNameForSeats(e),children:a+=1}):s.jsx("span",{className:getClassNameForSeats(1),children:n+1}),r&&n===r[t].length-1&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("br",{}),s.jsx("br",{})]})]},`${t}.${n}`));e.push(n)}return s.jsx("div",{className:$().seatsLeafContainer,children:e})},{}),s.jsx("div",{className:$().cont_screen,children:s.jsx("div",{className:$().screen,children:s.jsx("span",{className:$().screen_text,children:"SCREEN"})})})]})})]})]})}},37535:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});var s=t(95153);let a=(0,s.createProxy)(String.raw`/Users/sravankumargorati/teamproject-infinite-loop/client/src/app/theater/[theaterId]/addScreen/page.tsx`),{__esModule:n,$$typeof:i}=a,l=a.default,o=l}};var r=require("../../../../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[2958,1323,3508,6933],()=>__webpack_exec__(78031));module.exports=t})();