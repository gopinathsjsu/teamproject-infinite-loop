(()=>{var e={};e.id=8913,e.ids=[8913],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},78703:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>h,tree:()=>d});var r=a(67096),i=a(16132),s=a(37284),n=a.n(s),l=a(32564),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let d=["",{children:["artist",{children:["all",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,9060)),"/Users/sravankumargorati/teamproject-infinite-loop/client/src/app/artist/all/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,79113)),"/Users/sravankumargorati/teamproject-infinite-loop/client/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/sravankumargorati/teamproject-infinite-loop/client/src/app/artist/all/page.tsx"],p="/artist/all/page",u={require:a,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/artist/all/page",pathname:"/artist/all",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},82885:(e,t,a)=>{Promise.resolve().then(a.bind(a,81332))},81332:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Contact});var r=a(30784),i=a(9885),s=a(95843),n=a.n(s),l=a(43872),o=a(89440),d=a.n(o),c=a(53602),p=a(16614),u=a.n(p),h=a(33987),x=a.n(h),m=a(16854),f=a(52121),g=a(92870),j=a.n(g),b=a(83689),y=a.n(b),v=a(65656),C=a(64763),w=a(71026),_=a(47459),P=a.n(_),A=a(97445),k=a.n(A),S=a(88707),O=a.n(S),E=a(58111),T=a.n(E),I=a(51892),q=a.n(I),G=a(92133),W=a.n(G),D=a(81796),F=a(83476),M=a(39966),R=a.n(M),U=a(21971),Z=a.n(U),B=a(15050),$=a(99582),L=a(15922),X=a(30237),z=a(57114),K=a(23458);let H={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},N=["Director","Producer","Music Director","Screenwriter","Cinematographer","Editor","Art Director"],V=["Actor","Actress","Other Actors"],J={PaperProps:{style:{maxHeight:224,width:250}}},Q=(0,F.styled)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",whiteSpace:"nowrap",width:1});function getStyles(e,t,a){return{fontWeight:-1===t.indexOf(e)?a.typography.fontWeightRegular:a.typography.fontWeightMedium}}function Contact(){let[e,t]=(0,i.useState)([]),[a,s]=(0,i.useState)([]),[o,p]=(0,i.useState)(!1),[h,g]=(0,i.useState)(""),[b,_]=(0,i.useState)(!1),A=(0,K.Z)(),S=A.isAdmin,[E,I]=(0,i.useState)(null),[G,F]=(0,i.useState)("/broken-image.jpg"),[M,U]=(0,i.useState)(!1),[Y,ee]=(0,i.useState)({}),handleClose=()=>{_(!1),M&&(U(!1),F("/broken-image.jpg"),ee({}))},et=(0,z.useRouter)(),[ea,er]=(0,i.useState)({fullname:"",dateOfBirth:"",gender:"",category:"",profession:[],about:""});(0,i.useEffect)(()=>{let fetchData=async()=>{try{let e=await (0,B.e)("","artist/all","GET");t(e.Cast),s(e.Crew)}catch(e){console.error("Failed to fetch data:",e)}};fetchData()},[]);let handleArtistClick=e=>{et.push(`/artist/${e}`)},submitForm=async r=>{r.preventDefault();let i=new FormData;if(E&&i.append("image",E),Object.entries(ea).forEach(([e,t])=>{"profession"===e?i.append(e,t.join(", ")):i.append(e,t)}),M){i.append("id",Y.id);let e=await (0,B.e)(i,"artist/updateArtist","POST");if(null!=e){let e=await (0,B.e)("","artist/all","GET");t(e.Cast),s(e.Crew)}}else{let r=await (0,B.e)(i,"artist/add","POST");200===r.status&&("Crew"===ea.category?s([...a,r.artist]):"Cast"===ea.category&&t([...e,r.artist]))}handleClose()},handleInput=e=>{let{name:t,value:a}=e.target;er(e=>({...e,[t]:a}))},deleteArtist=async e=>{let a={id:e.id},r=await (0,B.e)(a,"artist/deleteArtist","POST");if(null!=r){let e=await (0,B.e)("","artist/all","GET");t(e.Cast),s(e.Crew)}},editCast=async e=>{U(!0);try{let t=await (0,B.e)("",`artist/${e.id}`,"GET");ee(t.artist),er(()=>({fullname:t.artist.name,dateOfBirth:y()(t.artist.dob),gender:t.artist.gender,category:"Cast",profession:[t.artist.profession],about:t.artist.description})),F(t.artist.profile_url),_(!0)}catch(e){console.error("Failed to fetch data:",e)}},editCrew=async e=>{U(!0);try{let t=await (0,B.e)("",`artist/${e.id}`,"GET");ee(t.artist),er(()=>({fullname:t.artist.name,dateOfBirth:y()(t.artist.dob),gender:t.artist.gender,category:"Crew",profession:[t.artist.profession],about:t.artist.description})),F(t.artist.profile_url),_(!0)}catch(e){console.error("Failed to fetch data:",e)}};return(0,r.jsxs)("div",{children:[S&&r.jsx(u(),{sx:{paddingTop:2,paddingRight:0,fontWeight:"bold"},onClick:()=>_(!0),children:"Add Artist"}),r.jsx(d(),{open:b,onClose:handleClose,closeAfterTransition:!0,"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",children:r.jsx(c.default,{in:b,children:r.jsx(l.default,{sx:H,children:r.jsx("form",{onSubmit:submitForm,encType:"multipart/form-data",children:(0,r.jsxs)(m.default,{direction:"column",spacing:2,children:[r.jsx(l.default,{sx:{display:"flex",justifyContent:"center"},children:r.jsx(n(),{sx:{width:100,height:100},src:E?URL.createObjectURL(E):G})}),r.jsx(l.default,{sx:{display:"flex",justifyContent:"center"},children:(0,r.jsxs)(u(),{sx:{width:200},component:"label",variant:"contained",startIcon:r.jsx(D.Z,{}),children:["Upload file",r.jsx(Q,{type:"file",name:"file",onChange:e=>{let t=e.target.files;if(t&&t.length>0){let e=t[0];I(e)}}})]})}),r.jsx(j(),{sx:{width:330},label:"Full Name",required:!0,name:"fullname",variant:"outlined",onChange:handleInput,value:ea.fullname}),r.jsx(j(),{sx:{width:330},label:"About",name:"about",required:!0,variant:"outlined",onChange:handleInput,value:ea.about}),r.jsx(C.LocalizationProvider,{dateAdapter:v.y,children:r.jsx(w.DatePicker,{sx:{width:330},label:"Date of Birth",value:ea.dateOfBirth,onChange:e=>er({...ea,dateOfBirth:e??""})})}),(0,r.jsxs)(T(),{sx:{m:1,width:330},children:[r.jsx(k(),{id:"gender-select-label",children:"Gender"}),(0,r.jsxs)(q(),{labelId:"gender-select-label",id:"gender-select",value:ea.gender,name:"gender",label:"Gender",onChange:handleInput,children:[r.jsx(O(),{value:"Male",children:"Male"}),r.jsx(O(),{value:"Female",children:"Female"}),r.jsx(O(),{value:"Other",children:"Other"})]})]}),(0,r.jsxs)(T(),{sx:{m:1,width:330},children:[r.jsx(k(),{id:"category-select-label",children:"Artist Category"}),(0,r.jsxs)(q(),{labelId:"category-select-label",id:"category-select",value:ea.category,name:"category",label:"Artist Category",onChange:handleInput,children:[r.jsx(O(),{value:"Crew",children:"Crew"}),r.jsx(O(),{value:"Cast",children:"Cast"}),r.jsx(O(),{value:"Other",children:"Other"})]})]}),(0,r.jsxs)(T(),{sx:{m:1,width:330},children:[r.jsx(k(),{id:"profession-select-label",children:"Profession"}),(0,r.jsxs)(q(),{labelId:"profession-select-label",id:"profession-select",multiple:!0,name:"profession",value:ea.profession,onChange:handleInput,input:r.jsx(P(),{id:"select-multiple-chip",label:"Profession"}),renderValue:e=>r.jsx(l.default,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map(e=>r.jsx(W(),{label:e},e))}),MenuProps:J,children:["Crew"===ea.category&&N.map(e=>r.jsx(O(),{value:e,style:getStyles(e,ea.profession,$.Z),children:e},e)),"Cast"===ea.category&&V.map(e=>r.jsx(O(),{value:e,style:getStyles(e,ea.profession,$.Z),children:e},e))]})]}),r.jsx(u(),{variant:"contained",endIcon:r.jsx(f.Z,{}),type:"submit",sx:{mt:2},children:"Submit"}),o&&r.jsx(l.default,{sx:{mt:2},children:r.jsx(x(),{color:"green",children:h})})]})})})})}),(0,r.jsxs)(R(),{maxWidth:"lg",sx:{borderRadius:2,overflow:"hidden",mt:2,mb:4},children:[r.jsx(x(),{variant:"h5",component:"div",sx:{fontWeight:"bold",mb:2},children:"Cast"}),r.jsx(Z(),{container:!0,spacing:1,children:e.map((e,t)=>(0,r.jsxs)(Z(),{item:!0,xs:6,sm:4,md:3,lg:2,children:[(0,r.jsxs)(l.default,{sx:{position:"relative",justifyContent:"space-between",display:"flex",top:30},children:[S&&r.jsx(u(),{startIcon:r.jsx(L.Z,{}),onClick:()=>{editCast(e)}}),S&&r.jsx(u(),{startIcon:r.jsx(X.Z,{}),onClick:()=>{deleteArtist(e)}})]}),(0,r.jsxs)(l.default,{sx:{textAlign:"center",p:1},children:[r.jsx(n(),{alt:e.name,src:e.profile_url,sx:{width:120,height:120,margin:"auto",mb:1,cursor:"pointer"},onClick:()=>handleArtistClick(e.id)}),r.jsx(x(),{variant:"subtitle1",sx:{fontWeight:"bold"},children:e.name}),r.jsx(x(),{variant:"body2",children:e.profession})]})]},`member-${t}`))})]}),(0,r.jsxs)(R(),{maxWidth:"lg",sx:{borderRadius:2,overflow:"hidden",mt:2,mb:4},children:[r.jsx(x(),{variant:"h5",component:"div",sx:{fontWeight:"bold",mb:2},children:"Crew"}),r.jsx(Z(),{container:!0,spacing:1,children:a.map((e,t)=>(0,r.jsxs)(Z(),{item:!0,xs:6,sm:4,md:3,lg:2,children:[(0,r.jsxs)(l.default,{sx:{position:"relative",justifyContent:"space-between",display:"flex",top:30},children:[S&&r.jsx(u(),{startIcon:r.jsx(L.Z,{}),onClick:()=>{editCrew(e)}}),S&&r.jsx(u(),{startIcon:r.jsx(X.Z,{}),onClick:()=>{deleteArtist(e)}})]}),(0,r.jsxs)(l.default,{sx:{textAlign:"center",p:1},children:[r.jsx(n(),{alt:e.name,src:e.profile_url,sx:{width:120,height:120,margin:"auto",mb:1,cursor:"pointer"},onClick:()=>handleArtistClick(e.id)}),r.jsx(x(),{variant:"subtitle1",sx:{fontWeight:"bold"},children:e.name}),r.jsx(x(),{variant:"body2",children:e.profession})]})]},`member-${t}`))})]})]})}},9060:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>s,default:()=>o});var r=a(95153);let i=(0,r.createProxy)(String.raw`/Users/sravankumargorati/teamproject-infinite-loop/client/src/app/artist/all/page.tsx`),{__esModule:s,$$typeof:n}=i,l=i.default,o=l},73881:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var r=a(31323);let __WEBPACK_DEFAULT_EXPORT__=e=>{let t=(0,r.fillMetadataSegment)(".",e.params,"favicon.ico");return[{type:"image/x-icon",sizes:"16x16",url:t+""}]}}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[2958,1323,6854,938,1276,6715,3125,3508],()=>__webpack_exec__(78703));module.exports=a})();