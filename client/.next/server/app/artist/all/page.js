(()=>{var e={};e.id=8913,e.ids=[8913],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},22165:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var s=a(67096),r=a(16132),i=a(37284),n=a.n(i),l=a(32564),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(t,o);let d=["",{children:["artist",{children:["all",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,9060)),"/Users/saideekshithkatukojwala/Documents/Code/Projects/box-office/client/src/app/artist/all/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,79113)),"/Users/saideekshithkatukojwala/Documents/Code/Projects/box-office/client/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/saideekshithkatukojwala/Documents/Code/Projects/box-office/client/src/app/artist/all/page.tsx"],u="/artist/all/page",p={require:a,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/artist/all/page",pathname:"/artist/all",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},11304:(e,t,a)=>{Promise.resolve().then(a.bind(a,81332))},81332:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Contact});var s=a(30784),r=a(9885),i=a(95843),n=a.n(i),l=a(43872),o=a(89440),d=a.n(o),c=a(53602),u=a(16614),p=a.n(u),h=a(33987),x=a.n(h),f=a(16854),m=a(52121),g=a(92870),j=a.n(g),b=a(83689),y=a.n(b),C=a(65656),w=a(64763),v=a(71026),_=a(47459),P=a.n(_),k=a(97445),A=a.n(k),S=a(88707),O=a.n(S),E=a(58111),T=a.n(E),D=a(51892),I=a.n(D),q=a(92133),G=a.n(q),W=a(81796),F=a(83476),M=a(39966),R=a.n(M),U=a(21971),Z=a.n(U),B=a(15050),$=a(99582),L=a(15922),X=a(30237),z=a(57114),K=a(23458);let H={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},N=["Director","Producer","Music Director","Screenwriter","Cinematographer","Editor","Art Director"],V=["Actor","Actress","Other Actors"],J={PaperProps:{style:{maxHeight:224,width:250}}},Q=(0,F.styled)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",whiteSpace:"nowrap",width:1});function getStyles(e,t,a){return{fontWeight:-1===t.indexOf(e)?a.typography.fontWeightRegular:a.typography.fontWeightMedium}}function Contact(){let[e,t]=(0,r.useState)([]),[a,i]=(0,r.useState)([]),[o,u]=(0,r.useState)(!1),[h,g]=(0,r.useState)(""),[b,_]=(0,r.useState)(!1),k=(0,K.Z)(),S=k.isAdmin,[E,D]=(0,r.useState)(null),[q,F]=(0,r.useState)("/broken-image.jpg"),[M,U]=(0,r.useState)(!1),[Y,ee]=(0,r.useState)({}),handleClose=()=>{_(!1),M&&(U(!1),F("/broken-image.jpg"),ee({}))},et=(0,z.useRouter)(),[ea,es]=(0,r.useState)({fullname:"",dateOfBirth:"",gender:"",category:"",profession:[],about:""});(0,r.useEffect)(()=>{let fetchData=async()=>{try{let e=await (0,B.e)("","artist/all","GET");t(e.Cast),i(e.Crew)}catch(e){console.error("Failed to fetch data:",e)}};fetchData()},[]);let handleArtistClick=e=>{et.push(`/artist/${e}`)},submitForm=async s=>{s.preventDefault();let r=new FormData;if(E&&r.append("image",E),Object.entries(ea).forEach(([e,t])=>{"profession"===e?r.append(e,t.join(", ")):r.append(e,t)}),M){r.append("id",Y.id);let e=await (0,B.e)(r,"artist/updateArtist","POST");if(null!=e){let e=await (0,B.e)("","artist/all","GET");t(e.Cast),i(e.Crew)}}else{let s=await (0,B.e)(r,"artist/add","POST");200===s.status&&("Crew"===ea.category?i([...a,s.artist]):"Cast"===ea.category&&t([...e,s.artist]))}handleClose()},handleInput=e=>{let{name:t,value:a}=e.target;es(e=>({...e,[t]:a}))},deleteArtist=async e=>{let a={id:e.id},s=await (0,B.e)(a,"artist/deleteArtist","POST");if(null!=s){let e=await (0,B.e)("","artist/all","GET");t(e.Cast),i(e.Crew)}},editCast=async e=>{U(!0);try{let t=await (0,B.e)("",`artist/${e.id}`,"GET");ee(t.artist),es(()=>({fullname:t.artist.name,dateOfBirth:y()(t.artist.dob),gender:t.artist.gender,category:"Cast",profession:[t.artist.profession],about:t.artist.description})),F(t.artist.profile_url),_(!0)}catch(e){console.error("Failed to fetch data:",e)}},editCrew=async e=>{U(!0);try{let t=await (0,B.e)("",`artist/${e.id}`,"GET");ee(t.artist),es(()=>({fullname:t.artist.name,dateOfBirth:y()(t.artist.dob),gender:t.artist.gender,category:"Crew",profession:[t.artist.profession],about:t.artist.description})),F(t.artist.profile_url),_(!0)}catch(e){console.error("Failed to fetch data:",e)}};return(0,s.jsxs)("div",{children:[S&&s.jsx(p(),{sx:{paddingTop:2,paddingRight:0,fontWeight:"bold"},onClick:()=>_(!0),children:"Add Artist"}),s.jsx(d(),{open:b,onClose:handleClose,closeAfterTransition:!0,"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",children:s.jsx(c.default,{in:b,children:s.jsx(l.default,{sx:H,children:s.jsx("form",{onSubmit:submitForm,encType:"multipart/form-data",children:(0,s.jsxs)(f.default,{direction:"column",spacing:2,children:[s.jsx(l.default,{sx:{display:"flex",justifyContent:"center"},children:s.jsx(n(),{sx:{width:100,height:100},src:E?URL.createObjectURL(E):q})}),s.jsx(l.default,{sx:{display:"flex",justifyContent:"center"},children:(0,s.jsxs)(p(),{sx:{width:200},component:"label",variant:"contained",startIcon:s.jsx(W.Z,{}),children:["Upload file",s.jsx(Q,{type:"file",name:"file",onChange:e=>{let t=e.target.files;if(t&&t.length>0){let e=t[0];D(e)}}})]})}),s.jsx(j(),{sx:{width:330},label:"Full Name",required:!0,name:"fullname",variant:"outlined",onChange:handleInput,value:ea.fullname}),s.jsx(j(),{sx:{width:330},label:"About",name:"about",required:!0,variant:"outlined",onChange:handleInput,value:ea.about}),s.jsx(w.LocalizationProvider,{dateAdapter:C.y,children:s.jsx(v.DatePicker,{sx:{width:330},label:"Date of Birth",value:ea.dateOfBirth,onChange:e=>es({...ea,dateOfBirth:e??""})})}),(0,s.jsxs)(T(),{sx:{m:1,width:330},children:[s.jsx(A(),{id:"gender-select-label",children:"Gender"}),(0,s.jsxs)(I(),{labelId:"gender-select-label",id:"gender-select",value:ea.gender,name:"gender",label:"Gender",onChange:handleInput,children:[s.jsx(O(),{value:"Male",children:"Male"}),s.jsx(O(),{value:"Female",children:"Female"}),s.jsx(O(),{value:"Other",children:"Other"})]})]}),(0,s.jsxs)(T(),{sx:{m:1,width:330},children:[s.jsx(A(),{id:"category-select-label",children:"Artist Category"}),(0,s.jsxs)(I(),{labelId:"category-select-label",id:"category-select",value:ea.category,name:"category",label:"Artist Category",onChange:handleInput,children:[s.jsx(O(),{value:"Crew",children:"Crew"}),s.jsx(O(),{value:"Cast",children:"Cast"}),s.jsx(O(),{value:"Other",children:"Other"})]})]}),(0,s.jsxs)(T(),{sx:{m:1,width:330},children:[s.jsx(A(),{id:"profession-select-label",children:"Profession"}),(0,s.jsxs)(I(),{labelId:"profession-select-label",id:"profession-select",multiple:!0,name:"profession",value:ea.profession,onChange:handleInput,input:s.jsx(P(),{id:"select-multiple-chip",label:"Profession"}),renderValue:e=>s.jsx(l.default,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map(e=>s.jsx(G(),{label:e},e))}),MenuProps:J,children:["Crew"===ea.category&&N.map(e=>s.jsx(O(),{value:e,style:getStyles(e,ea.profession,$.Z),children:e},e)),"Cast"===ea.category&&V.map(e=>s.jsx(O(),{value:e,style:getStyles(e,ea.profession,$.Z),children:e},e))]})]}),s.jsx(p(),{variant:"contained",endIcon:s.jsx(m.Z,{}),type:"submit",sx:{mt:2},children:"Submit"}),o&&s.jsx(l.default,{sx:{mt:2},children:s.jsx(x(),{color:"green",children:h})})]})})})})}),(0,s.jsxs)(R(),{maxWidth:"lg",sx:{borderRadius:2,overflow:"hidden",mt:2,mb:4},children:[s.jsx(x(),{variant:"h5",component:"div",sx:{fontWeight:"bold",mb:2},children:"Cast"}),s.jsx(Z(),{container:!0,spacing:1,children:e.map((e,t)=>(0,s.jsxs)(Z(),{item:!0,xs:6,sm:4,md:3,lg:2,children:[(0,s.jsxs)(l.default,{sx:{position:"relative",justifyContent:"space-between",display:"flex",top:30},children:[S&&s.jsx(p(),{startIcon:s.jsx(L.Z,{}),onClick:()=>{editCast(e)}}),S&&s.jsx(p(),{startIcon:s.jsx(X.Z,{}),onClick:()=>{deleteArtist(e)}})]}),(0,s.jsxs)(l.default,{sx:{textAlign:"center",p:1},children:[s.jsx(n(),{alt:e.name,src:e.profile_url,sx:{width:120,height:120,margin:"auto",mb:1,cursor:"pointer"},onClick:()=>handleArtistClick(e.id)}),s.jsx(x(),{variant:"subtitle1",sx:{fontWeight:"bold"},children:e.name}),s.jsx(x(),{variant:"body2",children:e.profession})]})]},`member-${t}`))})]}),(0,s.jsxs)(R(),{maxWidth:"lg",sx:{borderRadius:2,overflow:"hidden",mt:2,mb:4},children:[s.jsx(x(),{variant:"h5",component:"div",sx:{fontWeight:"bold",mb:2},children:"Crew"}),s.jsx(Z(),{container:!0,spacing:1,children:a.map((e,t)=>(0,s.jsxs)(Z(),{item:!0,xs:6,sm:4,md:3,lg:2,children:[(0,s.jsxs)(l.default,{sx:{position:"relative",justifyContent:"space-between",display:"flex",top:30},children:[S&&s.jsx(p(),{startIcon:s.jsx(L.Z,{}),onClick:()=>{editCrew(e)}}),S&&s.jsx(p(),{startIcon:s.jsx(X.Z,{}),onClick:()=>{deleteArtist(e)}})]}),(0,s.jsxs)(l.default,{sx:{textAlign:"center",p:1},children:[s.jsx(n(),{alt:e.name,src:e.profile_url,sx:{width:120,height:120,margin:"auto",mb:1,cursor:"pointer"},onClick:()=>handleArtistClick(e.id)}),s.jsx(x(),{variant:"subtitle1",sx:{fontWeight:"bold"},children:e.name}),s.jsx(x(),{variant:"body2",children:e.profession})]})]},`member-${t}`))})]})]})}},9060:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>o});var s=a(95153);let r=(0,s.createProxy)(String.raw`/Users/saideekshithkatukojwala/Documents/Code/Projects/box-office/client/src/app/artist/all/page.tsx`),{__esModule:i,$$typeof:n}=r,l=r.default,o=l},73881:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var s=a(31323);let __WEBPACK_DEFAULT_EXPORT__=e=>{let t=(0,s.fillMetadataSegment)(".",e.params,"favicon.ico");return[{type:"image/x-icon",sizes:"16x16",url:t+""}]}}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[2958,1323,6854,938,1276,6715,3125,9867],()=>__webpack_exec__(22165));module.exports=a})();