(()=>{var e={};e.id=1401,e.ids=[1401],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},81554:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>r.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var a=s(67096),i=s(16132),n=s(37284),r=s.n(n),l=s(32564),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["movies",{children:["all",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,77369)),"/Users/saideekshithkatukojwala/Documents/Code/Projects/box-office/client/src/app/movies/all/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,79113)),"/Users/saideekshithkatukojwala/Documents/Code/Projects/box-office/client/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/saideekshithkatukojwala/Documents/Code/Projects/box-office/client/src/app/movies/all/page.tsx"],u="/movies/all/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/movies/all/page",pathname:"/movies/all",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},15951:(e,t,s)=>{Promise.resolve().then(s.bind(s,83425))},83425:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var a=s(30784),i=s(9885),n=s(57114);s(25404),s(66332);var r=s(23458),l=s(94414),o=s(51892),d=s.n(o),c=s(76267),u=s.n(c),p=s(23282),m=s.n(p),x=s(1853),h=s.n(x),v=s(33987),_=s.n(v),g=s(16614),f=s.n(g),j=s(43872),P=s(88707),C=s.n(P),b=s(21971),k=s.n(b),y=s(39966),A=s.n(y),w=s(15922),E=s(30237),M=s(15050);let D=(0,l.ZP)(d())({margin:"8px",minWidth:"120px"}),MovieCard=({movie:e,onImageClick:t})=>{let s=(0,n.useRouter)(),i=(0,r.Z)(),l=i.isAdmin,editMovie=e=>{s.push(`/movies/${e}/edit`)};async function deleteMovie(e){let t=await (0,M.e)({id:e},"movie/deleteMovie","POST");null!=t&&s.refresh()}return(0,a.jsxs)(u(),{sx:{width:200,height:400,m:1,boxShadow:3},children:[a.jsx(m(),{component:"img",sx:{width:200,height:300,objectFit:"cover",cursor:"pointer"},image:e.banner_url,alt:e.title,onClick:()=>t(e.id)}),(0,a.jsxs)(h(),{children:[a.jsx(_(),{gutterBottom:!0,variant:"subtitle2",component:"div",children:e.title}),a.jsx(_(),{variant:"body2",color:"text.secondary",children:e.format}),l&&a.jsx(f(),{startIcon:a.jsx(w.Z,{}),onClick:()=>{editMovie(e.id)}}),l&&a.jsx(f(),{startIcon:a.jsx(E.Z,{}),onClick:()=>{deleteMovie(e.id)}})]})]})},__WEBPACK_DEFAULT_EXPORT__=()=>{let[e,t]=(0,i.useState)([]),[s,l]=(0,i.useState)([]),[o,d]=(0,i.useState)(""),[c,u]=(0,i.useState)("All"),[p,m]=(0,i.useState)("All");(0,i.useEffect)(()=>{let fetchData=async()=>{try{let e=await (0,M.e)("","movie/all","GET"),s=e.movies.map(e=>(e.genres=e.genres[0].split(",  "),e));t(s),l(s)}catch(e){console.error("Failed to fetch data:",e)}};fetchData()},[]),(0,i.useEffect)(()=>{let t=e.filter(e=>(""===o||e.genres&&e.genres.includes(o))&&("All"===c||e.languages.includes(c))&&("All"===p||e.format.includes(p)));l(t)},[c,p,e]);let x=(0,n.useRouter)(),h=(0,r.Z)(),v=h.isAdmin,handleCardClick=e=>{console.log(`Clicked on ${e}`),x.push(`/movies/${e}`)};return(0,a.jsxs)(A(),{maxWidth:!1,sx:{my:5},children:[(0,a.jsxs)(j.default,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[a.jsx(_(),{variant:"h6",sx:{mb:2},children:"Recommended Movies"}),v&&a.jsx(f(),{variant:"contained",sx:{paddingLeft:2,mb:2},onClick:()=>{x.push("/movies/add")},children:"Add Movie"}),(0,a.jsxs)(j.default,{sx:{display:"flex"},children:[(0,a.jsxs)(D,{value:c,onChange:(e,t)=>{u(e.target.value)},displayEmpty:!0,children:[a.jsx(C(),{value:"All",children:"All Languages"}),["English","Spanish","French","German","Mandarin Chinese","Hindi","Japanese","Korean","Italian","Russian","Portuguese","Arabic","Turkish","Persian","Swedish","Danish","Norwegian","Finnish","Dutch","Greek","Polish","Hungarian","Czech","Thai","Hebrew","Tamil","Telugu","Bengali"].map(e=>a.jsx(C(),{value:e,children:e},e))]}),(0,a.jsxs)(D,{value:p,onChange:(e,t)=>{m(e.target.value)},displayEmpty:!0,children:[a.jsx(C(),{value:"All",children:"All Formats"}),["SD","3D","4DX","IMAX 70mm"].map(e=>a.jsx(C(),{value:e,children:e},e))]})]})]}),a.jsx(k(),{container:!0,spacing:2,sx:{justifyContent:"start"},children:s.map((e,t)=>a.jsx(k(),{item:!0,sx:{width:"20%",flexGrow:1},children:a.jsx(MovieCard,{movie:e,onImageClick:handleCardClick})},t))})]})}},77369:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>r,__esModule:()=>n,default:()=>o});var a=s(95153);let i=(0,a.createProxy)(String.raw`/Users/saideekshithkatukojwala/Documents/Code/Projects/box-office/client/src/app/movies/all/page.tsx`),{__esModule:n,$$typeof:r}=i,l=i.default,o=l},73881:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var a=s(31323);let __WEBPACK_DEFAULT_EXPORT__=e=>{let t=(0,a.fillMetadataSegment)(".",e.params,"favicon.ico");return[{type:"image/x-icon",sizes:"16x16",url:t+""}]}},66332:()=>{},25404:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[2958,1323,6267,1853,3282,6715,4414,9867],()=>__webpack_exec__(81554));module.exports=s})();