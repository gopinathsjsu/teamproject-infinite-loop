(()=>{var e={};e.id=1931,e.ids=[1931],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},33371:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>c,routeModule:()=>h,tree:()=>d});var s=r(67096),a=r(16132),o=r(37284),i=r.n(o),n=r(32564),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(t,l);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,68203)),"/Users/sravankumargorati/teamproject-infinite-loop/client/src/app/page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,79113)),"/Users/sravankumargorati/teamproject-infinite-loop/client/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/sravankumargorati/teamproject-infinite-loop/client/src/app/page.tsx"],p="/page",m={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},68288:(e,t,r)=>{Promise.resolve().then(r.bind(r,90699))},90699:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Home});var s=r(30784),a=r(9885),o=r(22723),i=r(43872),n=r(16614),l=r.n(n),d=r(89440),c=r.n(d),p=r(16854),m=r(58111),h=r.n(m),u=r(97445),x=r.n(u),v=r(51892),f=r.n(v),g=r(88707),j=r.n(g),w=r(21971),y=r.n(w);r(25404),r(66332);var b=r(57114),_=r(15050),S=r(23458),C=r(81796),k=r(71998),P=r(83476),N=r(52121),A=r(92870),M=r.n(A);function SampleNextArrow(e){let{className:t,style:r,onClick:a}=e;return s.jsx("div",{className:t,style:{...r,fontSize:"50px",color:"#00378f",display:"block",right:"-5px"},onClick:a})}function SamplePrevArrow(e){let{className:t,style:r,onClick:a}=e;return s.jsx("div",{className:t,style:{...r,fontSize:"50px",color:"#00378f",display:"block",left:"-2px",zIndex:"1"},onClick:a})}let T={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},E=(0,P.styled)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1,accept:"image/*"}),movieCarousel=()=>{let[e,t]=(0,a.useState)(!1),[r,n]=(0,a.useState)([]),[d,m]=(0,a.useState)([]),[u,v]=(0,a.useState)(""),[g,w]=(0,a.useState)(!1),[P,A]=(0,a.useState)(null),I=(0,S.Z)(),z=I.isAdmin,[q,D]=(0,a.useState)({posterName:""}),B=(0,b.useRouter)(),fetchMovieData=async()=>{let e=await (0,_.e)("","poster/all","GET"),t=e.data,r=t.map(e=>({id:e.id,title:e.title,poster_url:e.poster_url,poster_id:e.poster_id}));n(r)},fetchMovies=async()=>{let e=await (0,_.e)("","movie/all","GET"),t=e.movies,r=t.map(e=>({id:e.id,title:e.title,poster_url:e.poster_url}));m(r)};(0,a.useEffect)(()=>{fetchMovieData(),fetchMovies()},[]);let G={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3,pauseOnHover:!0,nextArrow:s.jsx(SampleNextArrow,{}),prevArrow:s.jsx(SamplePrevArrow,{})},handleImageClick=e=>{console.log(e),console.log(r[Number(e)].poster_id);let t=r[Number(e)].poster_id;B.push(`/movies/${t}`)},submitForm=async e=>{e.preventDefault();let t=new FormData;P&&t.append("poster",P),t.append("posterName",q.posterName),t.append("posterId",u),console.log(t),await (0,_.e)(t,"poster/addPoster","POST"),A(null),fetchMovieData()},F=r.map(e=>e.poster_url);return(0,s.jsxs)(i.default,{children:[s.jsx(o.Z,{...G,children:F.map((e,t)=>s.jsx("div",{onClick:()=>handleImageClick(t),style:{cursor:"pointer"},children:s.jsx("img",{src:e,alt:`Slide ${t}`,style:{width:"100%",height:"auto"}})},t))}),z&&s.jsx(l(),{variant:"contained",onClick:()=>{t(!0)},children:"Add Poster"}),s.jsx(c(),{open:e,onClose:()=>{t(!1)},children:s.jsx(i.default,{sx:T,children:s.jsx(p.default,{direction:"column",spacing:2,children:s.jsx("form",{encType:"multipart/form-data",onSubmit:submitForm,children:(0,s.jsxs)(h(),{fullWidth:!0,children:[s.jsx(x(),{id:"single-select-label",children:"Movie"}),s.jsx(f(),{labelId:"single-select-label",value:u,onChange:e=>{let{value:t}=e.target;console.log(t),v(t),console.log(u)},children:d.map(e=>s.jsx(j(),{value:e.id,children:e.title},e.id))}),s.jsx(y(),{container:!0,spacing:2,children:s.jsx(y(),{item:!0,xs:12,md:12,lg:12,children:s.jsx(M(),{label:"Poster Name",name:"posterName",placeholder:"Poster Name",fullWidth:!0,variant:"outlined",type:"text",onChange:e=>{let t=e.target.name,r=e.target.value;D(e=>({...e,[t]:r}))}})})}),s.jsx(i.default,{sx:{display:"flex",justifyContent:"center",marginTop:1},children:(0,s.jsxs)(l(),{sx:{width:200},component:"label",variant:"contained",startIcon:s.jsx(C.Z,{}),children:[P?(0,s.jsxs)(s.Fragment,{children:["File Uploaded ",s.jsx(k.Z,{sx:{ml:1}})]}):"Upload Image",s.jsx(E,{type:"file",onChange:e=>{e.preventDefault();let t=e.target.files[0];A(t)}})]})}),s.jsx(i.default,{sx:{display:"flex",justifyContent:"center",marginTop:1},children:s.jsx(l(),{variant:"contained",endIcon:s.jsx(N.Z,{}),type:"submit",children:"Submit"})})]})})})})})]})};var I=r(76267),z=r.n(I),q=r(91383),D=r.n(q),B=r(23282),G=r.n(B),F=r(33987),Z=r.n(F),R=r(1853),U=r.n(R);let MovieCard=({movie:e,onImageClick:t})=>{let[r,o]=(0,a.useState)(!1);return s.jsx(z(),{sx:{width:200,height:300,m:1,boxShadow:3,position:"relative",overflow:"hidden","&:hover":{boxShadow:6}},onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:(0,s.jsxs)(D(),{onClick:()=>t(e.id),children:[s.jsx(G(),{component:"img",height:"300",image:e.banner_url,alt:e.title,sx:{cursor:"pointer",transition:"transform 0.5s ease",transform:r?"scale(1.1)":"scale(1)"}}),r?(0,s.jsxs)(i.default,{sx:{position:"absolute",bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",color:"white",p:1,width:"100%",height:"100%"},children:[s.jsx(Z(),{variant:"h6",component:"div",children:e.title}),s.jsx(Z(),{variant:"body2",children:e.genres})]}):s.jsx(U(),{children:s.jsx(Z(),{variant:"body2",color:"text.secondary",children:e.category})})]})})};function recommendedMovies_SampleNextArrow(e){let{className:t,style:r,onClick:a}=e;return s.jsx("div",{className:t,style:{...r,fontSize:"100px",color:"#00378f",display:"block",right:"20px",zIndex:1},onClick:a})}function recommendedMovies_SamplePrevArrow(e){let{className:t,style:r,onClick:a}=e;return s.jsx("div",{className:t,style:{...r,fontSize:"100px",color:"#00378f",display:"block",left:"2px",zIndex:1},onClick:a})}let recommendedMovies=()=>{let e=(0,b.useRouter)(),[t,r]=(0,a.useState)([]),handleCardClick=t=>{e.push(`/movies/${t}`)};(0,a.useEffect)(()=>{let fetchData=async()=>{let e=await (0,_.e)("","movie/getRecommendedMovies","GET"),t=e.data;r(t)};fetchData()},[]);let n={dots:!1,infinite:!0,speed:500,slidesToShow:t.length<6?t.length:6,slidesToScroll:1,nextArrow:s.jsx(recommendedMovies_SampleNextArrow,{className:void 0,style:void 0,onClick:void 0}),prevArrow:s.jsx(recommendedMovies_SamplePrevArrow,{className:void 0,style:void 0,onClick:void 0})};return(0,s.jsxs)(i.default,{children:[s.jsx(Z(),{variant:"h6",sx:{mb:2},children:"Recommended Movies"}),s.jsx(o.Z,{...n,children:t.map((e,t)=>s.jsx(MovieCard,{movie:e,onImageClick:handleCardClick},t))}),(0,s.jsxs)(i.default,{mt:4,sx:{width:"100%",overflow:"hidden"},children:[s.jsx("style",{children:`@media (min-width: 1280px) { 
                        .responsive-banner {
                                height: 120px; 
                            }
                        }
                        @media (min-width: 1440px) { 
                        .responsive-banner {
                                height: 200px; 
                            }
                        }
                    `}),s.jsx("a",{href:"./rewards",children:s.jsx("img",{className:"responsive-banner",src:"https://box-office-team-infinite-loop.s3.us-west-1.amazonaws.com/1111.png",alt:"Banner",style:{width:"100%",objectFit:"cover",objectPosition:"center"}})})]})]})},Theatercard=({theater:e,onImageClick:t})=>{let[r,o]=(0,a.useState)(!1);return s.jsx(z(),{sx:{width:350,height:190,m:1,boxShadow:3,position:"relative",overflow:"hidden","&:hover":{boxShadow:6}},onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:(0,s.jsxs)(D(),{onClick:()=>t(e.id),children:[s.jsx(G(),{component:"img",width:"100%",height:"100%",image:e.image_url,alt:e.title,sx:{cursor:"pointer",transition:"transform 0.5s ease",transform:r?"scale(1.1)":"scale(1)"}}),r?(0,s.jsxs)(i.default,{sx:{position:"absolute",bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",color:"white",p:1,width:"100%",height:"100%"},children:[s.jsx(Z(),{variant:"h6",component:"div",children:e.name}),s.jsx(Z(),{variant:"body2",children:e.city})]}):s.jsx(U(),{children:s.jsx(Z(),{variant:"body2",color:"text.secondary",children:e.state})})]})})};function theatersNearBy_SampleNextArrow(e){let{className:t,style:r,onClick:a}=e;return s.jsx("div",{className:t,style:{...r,fontSize:"100px",color:"#00378f",display:"block",right:"20px",zIndex:1},onClick:a})}function theatersNearBy_SamplePrevArrow(e){let{className:t,style:r,onClick:a}=e;return s.jsx("div",{className:t,style:{...r,fontSize:"100px",color:"#00378f",display:"block",left:"2px",zIndex:1},onClick:a})}let theatersNearBy=({location:e})=>{let t=(0,b.useRouter)(),r=(0,S.Z)(),[n,l]=(0,a.useState)([]),handleCardClick=e=>{t.push(`/theater/${e}/screens`)};(0,a.useEffect)(()=>{let fetchData=async()=>{r.pincode;let t=await (0,_.e)("","theater/getTheatersNearBy/"+e,"GET"),s=t.theaters;l(s)};fetchData()},[e]);let d={dots:!1,infinite:!0,speed:500,slidesToShow:n.length,slidesToScroll:1,nextArrow:s.jsx(theatersNearBy_SampleNextArrow,{className:void 0,style:void 0,onClick:void 0}),prevArrow:s.jsx(theatersNearBy_SamplePrevArrow,{className:void 0,style:void 0,onClick:void 0})};return(0,s.jsxs)(i.default,{children:[n.length?s.jsx(Z(),{variant:"h6",sx:{mb:2},children:"Theaters Near By"}):"",s.jsx(o.Z,{...d,children:n.map((e,t)=>s.jsx(Theatercard,{theater:e,onImageClick:handleCardClick},t))})]})};function Home(){let e=(0,S.Z)(),[t,r]=(0,a.useState)(null);return(0,a.useEffect)(()=>{let t=e.pincode;t&&r(t)},[e]),(0,s.jsxs)(s.Fragment,{children:[s.jsx(movieCarousel,{}),s.jsx(recommendedMovies,{}),t&&s.jsx(theatersNearBy,{location:t})]})}},68203:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>o,default:()=>l});var s=r(95153);let a=(0,s.createProxy)(String.raw`/Users/sravankumargorati/teamproject-infinite-loop/client/src/app/page.tsx`),{__esModule:o,$$typeof:i}=a,n=a.default,l=n},73881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var s=r(31323);let __WEBPACK_DEFAULT_EXPORT__=e=>{let t=(0,s.fillMetadataSegment)(".",e.params,"favicon.ico");return[{type:"image/x-icon",sizes:"16x16",url:t+""}]}}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[2958,1323,6267,1853,6854,3282,1383,9226,9168,3508],()=>__webpack_exec__(33371));module.exports=r})();