(()=>{var e={};e.id=1931,e.ids=[1931],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},35290:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var r=s(67096),o=s(16132),a=s(37284),i=s.n(a),n=s(32564),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);s.d(t,l);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,68203)),"/Users/saideekshithkatukojwala/Documents/Code/Projects/box-office/client/src/app/page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,79113)),"/Users/saideekshithkatukojwala/Documents/Code/Projects/box-office/client/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/saideekshithkatukojwala/Documents/Code/Projects/box-office/client/src/app/page.tsx"],p="/page",h={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},61339:(e,t,s)=>{Promise.resolve().then(s.bind(s,90699))},90699:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Home});var r=s(30784),o=s(9885),a=s(22723),i=s(43872),n=s(16614),l=s.n(n),d=s(89440),c=s.n(d),p=s(16854),h=s(58111),u=s.n(h),x=s(97445),m=s.n(x),v=s(51892),f=s.n(v),j=s(88707),g=s.n(j),w=s(21971),b=s.n(w);s(25404),s(66332);var y=s(57114),_=s(15050),S=s(23458),k=s(81796),C=s(71998),P=s(83476),N=s(52121),A=s(92870),M=s.n(A);function SampleNextArrow(e){let{className:t,style:s,onClick:o}=e;return r.jsx("div",{className:t,style:{...s,fontSize:"50px",color:"#00378f",display:"block",right:"-5px"},onClick:o})}function SamplePrevArrow(e){let{className:t,style:s,onClick:o}=e;return r.jsx("div",{className:t,style:{...s,fontSize:"50px",color:"#00378f",display:"block",left:"-2px",zIndex:"1"},onClick:o})}let T={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},E=(0,P.styled)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1,accept:"image/*"}),movieCarousel=()=>{let[e,t]=(0,o.useState)(!1),[s,n]=(0,o.useState)([]),[d,h]=(0,o.useState)([]),[x,v]=(0,o.useState)(""),[j,w]=(0,o.useState)(!1),[P,A]=(0,o.useState)(null),D=(0,S.Z)(),I=D.isAdmin,[z,q]=(0,o.useState)({posterName:""}),B=(0,y.useRouter)(),fetchMovieData=async()=>{let e=await (0,_.e)("","poster/all","GET"),t=e.data,s=t.map(e=>({id:e.id,title:e.title,poster_url:e.poster_url,poster_id:e.poster_id}));n(s)},fetchMovies=async()=>{let e=await (0,_.e)("","movie/all","GET"),t=e.movies,s=t.map(e=>({id:e.id,title:e.title,poster_url:e.poster_url}));h(s)};(0,o.useEffect)(()=>{fetchMovieData(),fetchMovies()},[]);let G={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3,pauseOnHover:!0,nextArrow:r.jsx(SampleNextArrow,{}),prevArrow:r.jsx(SamplePrevArrow,{})},handleImageClick=e=>{console.log(e),console.log(s[Number(e)].poster_id);let t=s[Number(e)].poster_id;B.push(`/movies/${t}`)},submitForm=async e=>{e.preventDefault();let t=new FormData;P&&t.append("poster",P),t.append("posterName",z.posterName),t.append("posterId",x),console.log(t),await (0,_.e)(t,"poster/addPoster","POST"),A(null),fetchMovieData()},F=s.map(e=>e.poster_url);return(0,r.jsxs)(i.default,{children:[r.jsx(a.Z,{...G,children:F.map((e,t)=>r.jsx("div",{onClick:()=>handleImageClick(t),style:{cursor:"pointer"},children:r.jsx("img",{src:e,alt:`Slide ${t}`,style:{width:"100%",height:"auto"}})},t))}),I&&r.jsx(l(),{variant:"contained",onClick:()=>{t(!0)},children:"Add Poster"}),r.jsx(c(),{open:e,onClose:()=>{t(!1)},children:r.jsx(i.default,{sx:T,children:r.jsx(p.default,{direction:"column",spacing:2,children:r.jsx("form",{encType:"multipart/form-data",onSubmit:submitForm,children:(0,r.jsxs)(u(),{fullWidth:!0,children:[r.jsx(m(),{id:"single-select-label",children:"Movie"}),r.jsx(f(),{labelId:"single-select-label",value:x,onChange:e=>{let{value:t}=e.target;console.log(t),v(t),console.log(x)},children:d.map(e=>r.jsx(g(),{value:e.id,children:e.title},e.id))}),r.jsx(b(),{container:!0,spacing:2,children:r.jsx(b(),{item:!0,xs:12,md:12,lg:12,children:r.jsx(M(),{label:"Poster Name",name:"posterName",placeholder:"Poster Name",fullWidth:!0,variant:"outlined",type:"text",onChange:e=>{let t=e.target.name,s=e.target.value;q(e=>({...e,[t]:s}))}})})}),r.jsx(i.default,{sx:{display:"flex",justifyContent:"center",marginTop:1},children:(0,r.jsxs)(l(),{sx:{width:200},component:"label",variant:"contained",startIcon:r.jsx(k.Z,{}),children:[P?(0,r.jsxs)(r.Fragment,{children:["File Uploaded ",r.jsx(C.Z,{sx:{ml:1}})]}):"Upload Image",r.jsx(E,{type:"file",onChange:e=>{e.preventDefault();let t=e.target.files[0];A(t)}})]})}),r.jsx(i.default,{sx:{display:"flex",justifyContent:"center",marginTop:1},children:r.jsx(l(),{variant:"contained",endIcon:r.jsx(N.Z,{}),type:"submit",children:"Submit"})})]})})})})})]})};var D=s(76267),I=s.n(D),z=s(91383),q=s.n(z),B=s(23282),G=s.n(B),F=s(33987),Z=s.n(F),R=s(1853),U=s.n(R);let MovieCard=({movie:e,onImageClick:t})=>{let[s,a]=(0,o.useState)(!1);return r.jsx(I(),{sx:{width:200,height:300,m:1,boxShadow:3,position:"relative",overflow:"hidden","&:hover":{boxShadow:6}},onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:(0,r.jsxs)(q(),{onClick:()=>t(e.id),children:[r.jsx(G(),{component:"img",height:"300",image:e.banner_url,alt:e.title,sx:{cursor:"pointer",transition:"transform 0.5s ease",transform:s?"scale(1.1)":"scale(1)"}}),s?(0,r.jsxs)(i.default,{sx:{position:"absolute",bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",color:"white",p:1,width:"100%",height:"100%"},children:[r.jsx(Z(),{variant:"h6",component:"div",children:e.title}),r.jsx(Z(),{variant:"body2",children:e.genres})]}):r.jsx(U(),{children:r.jsx(Z(),{variant:"body2",color:"text.secondary",children:e.category})})]})})};function recommendedMovies_SampleNextArrow(e){let{className:t,style:s,onClick:o}=e;return r.jsx("div",{className:t,style:{...s,fontSize:"100px",color:"#00378f",display:"block",right:"20px",zIndex:1},onClick:o})}function recommendedMovies_SamplePrevArrow(e){let{className:t,style:s,onClick:o}=e;return r.jsx("div",{className:t,style:{...s,fontSize:"100px",color:"#00378f",display:"block",left:"2px",zIndex:1},onClick:o})}let recommendedMovies=()=>{let e=(0,y.useRouter)(),[t,s]=(0,o.useState)([]),handleCardClick=t=>{e.push(`/movies/${t}`)};(0,o.useEffect)(()=>{let fetchData=async()=>{let e=await (0,_.e)("","movie/getRecommendedMovies","GET"),t=e.data;s(t)};fetchData()},[]);let n={dots:!1,infinite:!0,speed:500,slidesToShow:t.length<6?t.length:6,slidesToScroll:1,nextArrow:r.jsx(recommendedMovies_SampleNextArrow,{className:void 0,style:void 0,onClick:void 0}),prevArrow:r.jsx(recommendedMovies_SamplePrevArrow,{className:void 0,style:void 0,onClick:void 0})};return(0,r.jsxs)(i.default,{children:[r.jsx(Z(),{variant:"h6",sx:{mb:2},children:"Recommended Movies"}),r.jsx(a.Z,{...n,children:t.map((e,t)=>r.jsx(MovieCard,{movie:e,onImageClick:handleCardClick},t))}),(0,r.jsxs)(i.default,{mt:4,sx:{width:"100%",overflow:"hidden"},children:[r.jsx("style",{children:`@media (min-width: 1280px) { 
                        .responsive-banner {
                                height: 120px; 
                            }
                        }
                        @media (min-width: 1440px) { 
                        .responsive-banner {
                                height: 200px; 
                            }
                        }
                    `}),r.jsx("a",{href:"./rewards",children:r.jsx("img",{className:"responsive-banner",src:"https://box-office-team-infinite-loop.s3.us-west-1.amazonaws.com/1111.png",alt:"Banner",style:{width:"100%",objectFit:"cover",objectPosition:"center"}})})]})]})},Theatercard=({theater:e,onImageClick:t})=>{let[s,a]=(0,o.useState)(!1);return r.jsx(I(),{sx:{width:350,height:190,m:1,boxShadow:3,position:"relative",overflow:"hidden","&:hover":{boxShadow:6}},onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:(0,r.jsxs)(q(),{onClick:()=>t(e.id),children:[r.jsx(G(),{component:"img",width:"100%",height:"100%",image:e.image_url,alt:e.title,sx:{cursor:"pointer",transition:"transform 0.5s ease",transform:s?"scale(1.1)":"scale(1)"}}),s?(0,r.jsxs)(i.default,{sx:{position:"absolute",bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",color:"white",p:1,width:"100%",height:"100%"},children:[r.jsx(Z(),{variant:"h6",component:"div",children:e.name}),r.jsx(Z(),{variant:"body2",children:e.city})]}):r.jsx(U(),{children:r.jsx(Z(),{variant:"body2",color:"text.secondary",children:e.state})})]})})};function theatersNearBy_SampleNextArrow(e){let{className:t,style:s,onClick:o}=e;return r.jsx("div",{className:t,style:{...s,fontSize:"100px",color:"#00378f",display:"block",right:"20px",zIndex:1},onClick:o})}function theatersNearBy_SamplePrevArrow(e){let{className:t,style:s,onClick:o}=e;return r.jsx("div",{className:t,style:{...s,fontSize:"100px",color:"#00378f",display:"block",left:"2px",zIndex:1},onClick:o})}let theatersNearBy=({location:e})=>{let t=(0,y.useRouter)(),s=(0,S.Z)(),[n,l]=(0,o.useState)([]),handleCardClick=e=>{t.push(`/theater/${e}/screens`)};(0,o.useEffect)(()=>{let fetchData=async()=>{s.pincode;let t=await (0,_.e)("","theater/getTheatersNearBy/"+e,"GET"),r=t.theaters;l(r)};fetchData()},[e]);let d={dots:!1,infinite:!0,speed:500,slidesToShow:n.length,slidesToScroll:1,nextArrow:r.jsx(theatersNearBy_SampleNextArrow,{className:void 0,style:void 0,onClick:void 0}),prevArrow:r.jsx(theatersNearBy_SamplePrevArrow,{className:void 0,style:void 0,onClick:void 0})};return(0,r.jsxs)(i.default,{children:[n.length?r.jsx(Z(),{variant:"h6",sx:{mb:2},children:"Theaters Near By"}):"",r.jsx(a.Z,{...d,children:n.map((e,t)=>r.jsx(Theatercard,{theater:e,onImageClick:handleCardClick},t))})]})};function Home(){let e=(0,S.Z)(),[t,s]=(0,o.useState)(null);return(0,o.useEffect)(()=>{let t=e.pincode;t&&s(t)},[e]),(0,r.jsxs)(r.Fragment,{children:[r.jsx(movieCarousel,{}),r.jsx(recommendedMovies,{}),t&&r.jsx(theatersNearBy,{location:t})]})}},68203:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>l});var r=s(95153);let o=(0,r.createProxy)(String.raw`/Users/saideekshithkatukojwala/Documents/Code/Projects/box-office/client/src/app/page.tsx`),{__esModule:a,$$typeof:i}=o,n=o.default,l=n},73881:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var r=s(31323);let __WEBPACK_DEFAULT_EXPORT__=e=>{let t=(0,r.fillMetadataSegment)(".",e.params,"favicon.ico");return[{type:"image/x-icon",sizes:"16x16",url:t+""}]}}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[2958,1323,6267,1853,6854,3282,1383,9226,9168,9867],()=>__webpack_exec__(35290));module.exports=s})();